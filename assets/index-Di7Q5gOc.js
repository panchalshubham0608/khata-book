(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Ll={};var Bv;function Qw(){if(Bv)return Ll;Bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var qv;function Kw(){return qv||(qv=1,hm.exports=Qw()),hm.exports}var F=Kw(),fm={exports:{}},Se={};var Hv;function Yw(){if(Hv)return Se;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,q={};function te(V,W,ae){this.props=V,this.context=W,this.refs=q,this.updater=ae||H}te.prototype.isReactComponent={},te.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},te.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(V,W,ae){this.props=V,this.context=W,this.refs=q,this.updater=ae||H}var fe=ie.prototype=new ne;fe.constructor=ie,K(fe,te.prototype),fe.isPureReactComponent=!0;var Te=Array.isArray;function Ae(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,W,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:W,ref:ue!==void 0?ue:null,props:ae}}function x(V,W){return I(V.type,W,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var R=/\/+/g;function De(V,W){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):W.toString(36)}function Qe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ae,Ae):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,W,ae,ue,ve){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,$(Ue(V._payload),W,ae,ue,ve)}}if(Ue)return ve=ve(V),Ue=ue===""?"."+De(V,0):ue,Te(ve)?(ae="",Ue!=null&&(ae=Ue.replace(R,"$&/")+"/"),$(ve,W,ae,"",function(gs){return gs})):ve!=null&&(O(ve)&&(ve=x(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Ue)),W.push(ve)),1;Ue=0;var Mt=ue===""?".":ue+":";if(Te(V))for(var at=0;at<V.length;at++)ue=V[at],Ie=Mt+De(ue,at),Ue+=$(ue,W,ae,Ie,ve);else if(at=k(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,Ie=Mt+De(ue,at++),Ue+=$(ue,W,ae,Ie,ve);else if(Ie==="object"){if(typeof V.then=="function")return $(Qe(V),W,ae,ue,ve);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,W,ae){if(V==null)return V;var ue=[],ve=0;return $(V,ue,"","",function(Ie){return W.call(ae,Ie,ve++)}),ue}function pe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ke={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=Ke,Se.Component=te,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=K({},V.props),ve=V.key;if(W!=null)for(Ie in W.key!==void 0&&(ve=""+W.key),W)!w.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(ue[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=ae;else if(1<Ie){for(var Ue=Array(Ie),Mt=0;Mt<Ie;Mt++)Ue[Mt]=arguments[Mt+2];ue.children=Ue}return I(V.type,ve,ue)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,W,ae){var ue,ve={},Ie=null;if(W!=null)for(ue in W.key!==void 0&&(Ie=""+W.key),W)w.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=W[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var Mt=Array(Ue),at=0;at<Ue;at++)Mt[at]=arguments[at+2];ve.children=Mt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return I(V,Ie,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=O,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Se.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},Se.startTransition=function(V){var W=D.T,ae={};D.T=ae;try{var ue=V(),ve=D.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ae,je)}catch(Ie){je(Ie)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),D.T=W}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(V){return D.H.use(V)},Se.useActionState=function(V,W,ae){return D.H.useActionState(V,W,ae)},Se.useCallback=function(V,W){return D.H.useCallback(V,W)},Se.useContext=function(V){return D.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,W){return D.H.useDeferredValue(V,W)},Se.useEffect=function(V,W){return D.H.useEffect(V,W)},Se.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(V,W,ae){return D.H.useImperativeHandle(V,W,ae)},Se.useInsertionEffect=function(V,W){return D.H.useInsertionEffect(V,W)},Se.useLayoutEffect=function(V,W){return D.H.useLayoutEffect(V,W)},Se.useMemo=function(V,W){return D.H.useMemo(V,W)},Se.useOptimistic=function(V,W){return D.H.useOptimistic(V,W)},Se.useReducer=function(V,W,ae){return D.H.useReducer(V,W,ae)},Se.useRef=function(V){return D.H.useRef(V)},Se.useState=function(V){return D.H.useState(V)},Se.useSyncExternalStore=function(V,W,ae){return D.H.useSyncExternalStore(V,W,ae)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.2.0",Se}var Fv;function hp(){return Fv||(Fv=1,fm.exports=Yw()),fm.exports}var B=hp();const Js=Gw(B);var dm={exports:{}},kl={},mm={exports:{}},pm={};var Gv;function $w(){return Gv||(Gv=1,(function(r){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ke=$[je];if(0<o(Ke,se))$[je]=se,$[pe]=Ke,pe=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var je=0,Ke=$.length,V=Ke>>>1;je<V;){var W=2*(je+1)-1,ae=$[W],ue=W+1,ve=$[ue];if(0>o(ae,pe))ue<Ke&&0>o(ve,ae)?($[je]=ve,$[ue]=pe,je=ue):($[je]=ae,$[W]=pe,je=W);else if(ue<Ke&&0>o(ve,pe))$[je]=ve,$[ue]=pe,je=ue;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,k=!1,H=!1,K=!1,q=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=$)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Te($){if(K=!1,fe($),!H)if(n(p)!==null)H=!0,Ae||(Ae=!0,N());else{var se=n(g);se!==null&&Qe(Te,se.startTime-$)}}var Ae=!1,D=-1,w=5,I=-1;function x(){return q?!0:!(r.unstable_now()-I<w)}function O(){if(q=!1,Ae){var $=r.unstable_now();I=$;var se=!0;try{e:{H=!1,K&&(K=!1,ne(D),D=-1),k=!0;var pe=b;try{t:{for(fe($),T=n(p);T!==null&&!(T.expirationTime>$&&x());){var je=T.callback;if(typeof je=="function"){T.callback=null,b=T.priorityLevel;var Ke=je(T.expirationTime<=$);if($=r.unstable_now(),typeof Ke=="function"){T.callback=Ke,fe($),se=!0;break t}T===n(p)&&s(p),fe($)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&Qe(Te,V.startTime-$),se=!1}}break e}finally{T=null,b=pe,k=!1}se=void 0}}finally{se?N():Ae=!1}}}var N;if(typeof ie=="function")N=function(){ie(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,De=R.port2;R.port1.onmessage=O,N=function(){De.postMessage(null)}}else N=function(){te(O,0)};function Qe($,se){D=te(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var pe=b;b=se;try{return $()}finally{b=pe}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=b;b=$;try{return se()}finally{b=pe}},r.unstable_scheduleCallback=function($,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,$){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=pe+Ke,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ke,sortIndex:-1},pe>je?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(K?(ne(D),D=-1):K=!0,Qe(Te,pe-je))):($.sortIndex=Ke,e(p,$),H||k||(H=!0,Ae||(Ae=!0,N()))),$},r.unstable_shouldYield=x,r.unstable_wrapCallback=function($){var se=b;return function(){var pe=b;b=se;try{return $.apply(this,arguments)}finally{b=pe}}}})(pm)),pm}var Qv;function Xw(){return Qv||(Qv=1,mm.exports=$w()),mm.exports}var gm={exports:{}},$t={};var Kv;function Jw(){if(Kv)return $t;Kv=1;var r=hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Yv;function Zw(){if(Yv)return gm.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=Jw(),gm.exports}var $v;function Ww(){if($v)return kl;$v=1;var r=Xw(),e=hp(),n=Zw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===a){_=!0,a=h,l=d;break}if(A===l){_=!0,l=h,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=h;break}if(A===l){_=!0,l=d,a=h;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case q:return"StrictMode";case Te:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var Qe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ke=-1;function V(t){return{current:t}}function W(t){0>Ke||(t.current=je[Ke],je[Ke]=null,Ke--)}function ae(t,i){Ke++,je[Ke]=t.current,t.current=i}var ue=V(null),ve=V(null),Ie=V(null),Ue=V(null);function Mt(t,i){switch(ae(Ie,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=cv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function at(){W(ue),W(ve),W(Ie)}function gs(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=hv(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ca(t){ve.current===t&&(W(ue),W(ve)),Ue.current===t&&(W(Ue),Ol._currentValue=pe)}var ha,fa;function si(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var Oo=!1;function ys(t,i){if(!t||Oo)return"";Oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var j=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){j=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){j=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&j&&typeof Q.stack=="string")return[Q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var C=_.split(`
`),z=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ys(t.type,!1);case 11:return ys(t.type.render,!1);case 1:return ys(t.type,!0);case 31:return si("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,df=r.unstable_shouldYield,_u=r.unstable_requestPaint,en=r.unstable_now,_s=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,mf=r.unstable_LowPriority,vu=r.unstable_IdlePriority,Eu=r.log,Tu=r.unstable_setDisableYieldValue,jn=null,jt=null;function wn(t){if(typeof Eu=="function"&&Tu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(jn,t)}catch{}}var dt=Math.clz32?Math.clz32:Su,Au=Math.log,da=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(Au(t)/da|0)|0}var ai=256,vs=262144,vt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=oi(l):(_&=A,_!==0?h=oi(_):a||(a=A&~t,a!==0&&(h=oi(a))))):(A=l&~d,A!==0?h=oi(A):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Es(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-dt(a),J=1<<Y;A[Y]=0,C[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var Q=j[Y];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&Ts(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function qn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Hn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Hn,kt="__reactProps$"+Hn,ci="__reactContainer$"+Hn,ma="__reactEvents$"+Hn,yf="__reactListeners$"+Hn,Ru="__reactHandles$"+Hn,Iu="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function pa(t){delete t[Et],delete t[kt],delete t[ma],delete t[yf],delete t[Ru]}function fi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[Et])return a;t=_v(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[hi]=!0}var Uo=new Set,zo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(zo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Cu(t){return _t.call(qo,t)?!0:_t.call(Bo,t)?!1:jo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function ga(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Ss(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bs=/[\n"\\]/g;function sn(t){return t.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,Pt(i)):a!=null?Fo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Pt(A):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Fo(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Ko=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,yi=null;function ws(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ss(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var Ea=!1;function wr(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(br!==null||yi!==null)&&(wc(),br&&(i=br,t=yi,yi=br=null,ws(i),t)))for(i=0;i<t.length;i++)ws(t[i])}}function Gn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(Cn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Rs=!1}var _i=null,Yo=null,Is=null;function $o(){if(Is)return Is;var t,i=Yo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Is=h.slice(t,1<l?1-l:void 0)}function Cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Qn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Qn,this.isPropagationStopped=Qn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(Fi),Rr=T({},Fi,{view:0,detail:0}),Xo=Bt(Rr),Ir,Ta,Ei,Aa=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ir=t.screenX-Ei.screenX,Ta=t.screenY-Ei.screenY):Ta=Ir=0,Ei=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Jo=Bt(Aa),Ds=T({},Aa,{dataTransfer:0}),Vu=Bt(Ds),xu=T({},Rr,{relatedTarget:0}),Ns=Bt(xu),Zo=T({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Bt(Zo),Sa=T({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Bt(Sa),Pu=T({},Fi,{data:0}),Ti=Bt(Pu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Cr(){return Bu}var tn=T({},Rr,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Bt(tn),Hu=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(Hu),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Bt(c),v=T({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),P=T({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(P),re=T({},Fi,{newState:0,oldState:0}),we=Bt(re),mt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!ot,Ai=Cn&&(!He||ot&&8<ot&&11>=ot),Kn=" ",Yn=!1;function Os(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function pb(t,i){switch(t){case"compositionend":return ba(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Yn?null:t;default:return null}}function gb(t,i){if(wa)return t==="compositionend"||!He&&Os(t,i)?(t=$o(),Is=Yo=_i=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!yb[t.type]:i==="textarea"}function Ag(t,i,a,l){br?yi?yi.push(l):yi=[l]:br=l,i=Mc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,el=null;function _b(t){rv(t,0)}function Fu(t){var i=mn(t);if(Ss(i))return t}function Sg(t,i){if(t==="change")return i}var bg=!1;if(Cn){var _f;if(Cn){var vf="oninput"in document;if(!vf){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),vf=typeof wg.oninput=="function"}_f=vf}else _f=!1;bg=_f&&(!document.documentMode||9<document.documentMode)}function Rg(){Wo&&(Wo.detachEvent("onpropertychange",Ig),el=Wo=null)}function Ig(t){if(t.propertyName==="value"&&Fu(el)){var i=[];Ag(i,el,t,In(t)),wr(_b,i)}}function vb(t,i,a){t==="focusin"?(Rg(),Wo=i,el=a,Wo.attachEvent("onpropertychange",Ig)):t==="focusout"&&Rg()}function Eb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(el)}function Tb(t,i){if(t==="click")return Fu(i)}function Ab(t,i){if(t==="input"||t==="change")return Fu(i)}function Sb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:Sb;function tl(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,i){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bb=Cn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Tf=null,nl=null,Af=!1;function Mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Ra==null||Ra!==gi(l)||(l=Ra,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Mc(Tf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Sf={},Vg={};Cn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Vs(t){if(Sf[t])return Sf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return Sf[t]=i[a];return t}var xg=Vs("animationend"),Lg=Vs("animationiteration"),kg=Vs("animationstart"),wb=Vs("transitionrun"),Rb=Vs("transitionstart"),Ib=Vs("transitioncancel"),Pg=Vs("transitionend"),Ug=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function $n(t,i){Ug.set(t,i),mi(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Ca=0,wf=0;function Qu(){for(var t=Ca,i=wf=Ca=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&zg(a,h,d)}}function Ku(t,i,a,l){Nn[Ca++]=t,Nn[Ca++]=i,Nn[Ca++]=a,Nn[Ca++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return Ku(t,i,a,l),Yu(t)}function xs(t,i){return Ku(t,null,null,i),Yu(t)}function zg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<bl)throw bl=0,Ld=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function Cb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new Cb(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=Vw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=yn(31,a,i,h),t.elementType=I,t.lanes=d,t;case K:return Ls(a.children,h,d,i);case q:_=8,h|=24;break;case te:return t=yn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case Te:return t=yn(13,a,i,h),t.elementType=Te,t.lanes=d,t;case Ae:return t=yn(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case fe:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Bg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var qg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},qg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Na=[],Oa=0,Xu=null,il=0,Mn=[],Vn=0,Dr=null,Si=1,bi="";function Ki(t,i){Na[Oa++]=il,Na[Oa++]=Xu,Xu=t,il=i}function Hg(t,i,a){Mn[Vn++]=Si,Mn[Vn++]=bi,Mn[Vn++]=Dr,Dr=t;var l=Si;t=bi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-dt(i)+h|a<<h|l,bi=d+t}else Si=1<<d|a<<h|l,bi=t}function Nf(t){t.return!==null&&(Ki(t,1),Hg(t,1,0))}function Of(t){for(;t===Xu;)Xu=Na[--Oa],Na[Oa]=null,il=Na[--Oa],Na[Oa]=null;for(;t===Dr;)Dr=Mn[--Vn],Mn[Vn]=null,bi=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function Fg(t,i){Mn[Vn++]=Si,Mn[Vn++]=bi,Mn[Vn++]=Dr,Si=i.id,bi=i.overflow,Dr=t}var qt=null,it=null,Pe=!1,Nr=null,xn=!1,Mf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(On(i,t)),Mf}function Gg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Oe(Rl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Or(t,!0)}function Qg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qt=qt.return}}function Ma(t){if(t!==qt)return!1;if(!Pe)return Qg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&it&&Or(t),Qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=yv(t)}else i===27?(i=it,Gr(t.type)?(t=tm,tm=null,it=t):it=i):it=qt?kn(t.stateNode.nextSibling):null;return!0}function ks(){it=qt=null,Pe=!1}function Vf(){var t=Nr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Nr=null),t}function rl(t){Nr===null?Nr=[t]:Nr.push(t)}var xf=V(null),Ps=null,Yi=null;function Mr(t,i,a){ae(xf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=xf.current,W(xf)}function Lf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Lf(d.return,a,t),l||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Lf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ps=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Kg(Ps,t)}function Zu(t,i){return Ps===null&&Us(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var Db=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Nb=r.unstable_scheduleCallback,Ob=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new Db,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Nb(Ob,function(){t.controller.abort()})}var al=null,Uf=0,xa=0,La=null;function Mb(t,i){if(al===null){var a=al=[];Uf=0,xa=Bd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(Yg,Yg),i}function Yg(){if(--Uf===0&&al!==null){La!==null&&(La.status="fulfilled");var t=al;al=null,xa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Vb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=$.S;$.S=function(t,i){M_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Mb(t,i),$g!==null&&$g(t,i)};var zs=V(null);function zf(){var t=zs.current;return t!==null?t:tt.pooledCache}function Wu(t,i){i===null?ae(zs,zs.current):ae(zs,i.pool)}function Xg(){var t=zf();return t===null?null:{parent:St._currentValue,pool:t}}var ka=Error(s(460)),jf=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw Bs=i,ka}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,ka):a}}var Bs=null;function Wg(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function ey(t){if(t===ka||t===ec)throw Error(s(483))}var Pa=null,ol=0;function nc(t){var i=ol;return ol+=1,Pa===null&&(Pa=[]),Zg(Pa,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(L,M){if(t){var U=L.deletions;U===null?(L.deletions=[M],L.flags|=16):U.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Qi(L,M),L.index=0,L.sibling=null,L}function d(L,M,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<M?(L.flags|=67108866,M):U):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function A(L,M,U,X){return M===null||M.tag!==6?(M=Cf(U,L.mode,X),M.return=L,M):(M=h(M,U),M.return=L,M)}function C(L,M,U,X){var de=U.type;return de===K?Y(L,M,U.props.children,X,U.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&js(de)===M.type)?(M=h(M,U.props),ll(M,U),M.return=L,M):(M=$u(U.type,U.key,U.props,null,L.mode,X),ll(M,U),M.return=L,M)}function z(L,M,U,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Df(U,L.mode,X),M.return=L,M):(M=h(M,U.children||[]),M.return=L,M)}function Y(L,M,U,X,de){return M===null||M.tag!==7?(M=Ls(U,L.mode,X,de),M.return=L,M):(M=h(M,U),M.return=L,M)}function J(L,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cf(""+M,L.mode,U),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return U=$u(M.type,M.key,M.props,null,L.mode,U),ll(U,M),U.return=L,U;case H:return M=Df(M,L.mode,U),M.return=L,M;case w:return M=js(M),J(L,M,U)}if(Qe(M)||N(M))return M=Ls(M,L.mode,U,null),M.return=L,M;if(typeof M.then=="function")return J(L,nc(M),U);if(M.$$typeof===ie)return J(L,Zu(L,M),U);ic(L,M)}return null}function j(L,M,U,X){var de=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:A(L,M,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===de?C(L,M,U,X):null;case H:return U.key===de?z(L,M,U,X):null;case w:return U=js(U),j(L,M,U,X)}if(Qe(U)||N(U))return de!==null?null:Y(L,M,U,X,null);if(typeof U.then=="function")return j(L,M,nc(U),X);if(U.$$typeof===ie)return j(L,M,Zu(L,U),X);ic(L,U)}return null}function Q(L,M,U,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(U)||null,A(M,L,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return L=L.get(X.key===null?U:X.key)||null,C(M,L,X,de);case H:return L=L.get(X.key===null?U:X.key)||null,z(M,L,X,de);case w:return X=js(X),Q(L,M,U,X,de)}if(Qe(X)||N(X))return L=L.get(U)||null,Y(M,L,X,de,null);if(typeof X.then=="function")return Q(L,M,U,nc(X),de);if(X.$$typeof===ie)return Q(L,M,U,Zu(M,X),de);ic(M,X)}return null}function ce(L,M,U,X){for(var de=null,Be=null,he=M,Ce=M=0,Ve=null;he!==null&&Ce<U.length;Ce++){he.index>Ce?(Ve=he,he=null):Ve=he.sibling;var qe=j(L,he,U[Ce],X);if(qe===null){he===null&&(he=Ve);break}t&&he&&qe.alternate===null&&i(L,he),M=d(qe,M,Ce),Be===null?de=qe:Be.sibling=qe,Be=qe,he=Ve}if(Ce===U.length)return a(L,he),Pe&&Ki(L,Ce),de;if(he===null){for(;Ce<U.length;Ce++)he=J(L,U[Ce],X),he!==null&&(M=d(he,M,Ce),Be===null?de=he:Be.sibling=he,Be=he);return Pe&&Ki(L,Ce),de}for(he=l(he);Ce<U.length;Ce++)Ve=Q(he,L,Ce,U[Ce],X),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?Ce:Ve.key),M=d(Ve,M,Ce),Be===null?de=Ve:Be.sibling=Ve,Be=Ve);return t&&he.forEach(function(Xr){return i(L,Xr)}),Pe&&Ki(L,Ce),de}function ge(L,M,U,X){if(U==null)throw Error(s(151));for(var de=null,Be=null,he=M,Ce=M=0,Ve=null,qe=U.next();he!==null&&!qe.done;Ce++,qe=U.next()){he.index>Ce?(Ve=he,he=null):Ve=he.sibling;var Xr=j(L,he,qe.value,X);if(Xr===null){he===null&&(he=Ve);break}t&&he&&Xr.alternate===null&&i(L,he),M=d(Xr,M,Ce),Be===null?de=Xr:Be.sibling=Xr,Be=Xr,he=Ve}if(qe.done)return a(L,he),Pe&&Ki(L,Ce),de;if(he===null){for(;!qe.done;Ce++,qe=U.next())qe=J(L,qe.value,X),qe!==null&&(M=d(qe,M,Ce),Be===null?de=qe:Be.sibling=qe,Be=qe);return Pe&&Ki(L,Ce),de}for(he=l(he);!qe.done;Ce++,qe=U.next())qe=Q(he,L,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ce:qe.key),M=d(qe,M,Ce),Be===null?de=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(Fw){return i(L,Fw)}),Pe&&Ki(L,Ce),de}function et(L,M,U,X){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var de=U.key;M!==null;){if(M.key===de){if(de=U.type,de===K){if(M.tag===7){a(L,M.sibling),X=h(M,U.props.children),X.return=L,L=X;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&js(de)===M.type){a(L,M.sibling),X=h(M,U.props),ll(X,U),X.return=L,L=X;break e}a(L,M);break}else i(L,M);M=M.sibling}U.type===K?(X=Ls(U.props.children,L.mode,X,U.key),X.return=L,L=X):(X=$u(U.type,U.key,U.props,null,L.mode,X),ll(X,U),X.return=L,L=X)}return _(L);case H:e:{for(de=U.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(L,M.sibling),X=h(M,U.children||[]),X.return=L,L=X;break e}else{a(L,M);break}else i(L,M);M=M.sibling}X=Df(U,L.mode,X),X.return=L,L=X}return _(L);case w:return U=js(U),et(L,M,U,X)}if(Qe(U))return ce(L,M,U,X);if(N(U)){if(de=N(U),typeof de!="function")throw Error(s(150));return U=de.call(U),ge(L,M,U,X)}if(typeof U.then=="function")return et(L,M,nc(U),X);if(U.$$typeof===ie)return et(L,M,Zu(L,U),X);ic(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(L,M.sibling),X=h(M,U),X.return=L,L=X):(a(L,M),X=Cf(U,L.mode,X),X.return=L,L=X),_(L)):a(L,M)}return function(L,M,U,X){try{ol=0;var de=et(L,M,U,X);return Pa=null,de}catch(he){if(he===ka||he===ec)throw he;var Be=yn(29,he,null,L.mode);return Be.lanes=X,Be.return=L,Be}finally{}}}var qs=ty(!0),ny=ty(!1),Vr=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),zg(t,null,a),i}return Ku(t,l,i,a),Yu(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function cl(){if(Ff){var t=La;if(t!==null)throw t}}function hl(t,i,a,l){Ff=!1;var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==_&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;_=0,Y=z=C=null,A=d;do{var j=A.lane&-536870913,Q=j!==A.lane;if(Q?(Me&j)===j:(l&j)===j){j!==0&&j===xa&&(Ff=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=t,ge=A;j=i;var et=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){J=ce.call(et,J,j);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,j=typeof ce=="function"?ce.call(et,J,j):ce,j==null)break e;J=T({},J,j);break e;case 2:Vr=!0}}j=A.callback,j!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[j]:Q.push(j))}else Q={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=Q,C=J):Y=Y.next=Q,_|=j;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=J}}function iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var Ua=V(null),rc=V(0);function sy(t,i){t=rr,ae(rc,t),ae(Ua,i),rr=t|i.baseLanes}function Gf(){ae(rc,rr),ae(Ua,Ua.current)}function Qf(){rr=rc.current,W(Ua),W(rc)}var _n=V(null),Ln=null;function kr(t){var i=t.alternate;ae(pt,pt.current&1),ae(_n,t),Ln===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Ln=t)}function Kf(t){ae(pt,pt.current),ae(_n,t),Ln===null&&(Ln=t)}function ay(t){t.tag===22?(ae(pt,pt.current),ae(_n,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(pt,pt.current),ae(_n,_n.current)}function vn(t){W(_n),Ln===t&&(Ln=null),W(pt)}var pt=V(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Ze=null,bt=null,ac=!1,za=!1,Hs=!1,oc=0,fl=0,ja=null,xb=0;function ht(){throw Error(s(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Hy:cd,Hs=!1,d=a(l,h),Hs=!1,za&&(d=ly(i,a,l,h)),oy(t),d}function oy(t){$.H=pl;var i=Ze!==null&&Ze.next!==null;if(Xi=0,bt=Ze=Re=null,ac=!1,fl=0,ja=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&Ju(t)&&(wt=!0))}function ly(t,i,a,l){Re=t;var h=0;do{if(za&&(ja=null),fl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Fy,d=i(a,l)}while(za);return d}function Lb(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function Xf(){var t=oc!==0;return oc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Xi=0,bt=Ze=Re=null,za=!1,fl=oc=0,ja=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Re.memoizedState=bt=t:bt=bt.next=t,bt}function gt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=bt===null?Re.memoizedState:bt.next;if(i!==null)bt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Re.memoizedState=bt=t:bt=bt.next=t}return bt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,ja===null&&(ja=[]),t=Zg(ja,t,i),i=Re,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Hy:cd),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function Wf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=gt();return ed(i,Ze,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=_=null,C=null,z=i,Y=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Me&J)===J:(Xi&J)===J){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===xa&&(Y=!0);else if((Xi&j)===j){z=z.next,j===xa&&(Y=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=J,_=d):C=C.next=J,Re.lanes|=j,jr|=j;J=z.action,Hs&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else j={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=j,_=d):C=C.next=j,Re.lanes|=J,jr|=J;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=A,!gn(d,t.memoizedState)&&(wt=!0,Y&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(t,i,a){var l=Re,h=gt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,rd(fy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},hy.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Xi&127)!==0||cy(l,i,a)}return a}function cy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=lc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(t)}function fy(t,i,a){return a(function(){dy(i)&&my(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function my(t){var i=xs(t,2);i!==null&&hn(i,t,2)}function nd(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Hs){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function py(t,i,a,l){return t.baseState=a,ed(t,Ze,typeof l=="function"?l:Ji)}function kb(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var A=a(h,l),C=$.S;C!==null&&C(_,A),yy(t,i,A)}catch(z){id(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),yy(t,i,d)}catch(z){id(t,i,z)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,i,l)},function(l){return id(t,i,l)}):_y(t,i,a)}function _y(t,i,a){i.status="fulfilled",i.value=a,vy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vy(i),i=i.next;while(i!==l)}t.action=null}function vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(it){t:{for(var h=it,d=xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=kn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=jy.bind(null,Re,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=kb.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ay(t){var i=gt();return Sy(i,Ze,t)}function Sy(t,i,a){if(i=ed(t,i,Ey)[0],t=cc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===ka?ec:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ba(9,{destroy:void 0},Pb.bind(null,h,a),null)),[l,d,t]}function Pb(t,i){t.action=i}function by(t){var i=gt(),a=Ze;if(a!==null)return Sy(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=lc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function wy(){return gt().memoizedState}function hc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Yf(l,Ze.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Re.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function Ry(t,i){hc(8390656,8,t,i)}function rd(t,i){fc(2048,8,t,i)}function Ub(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=lc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Iy(t){var i=gt().memoizedState;return Ub({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Cy(t,i){return fc(4,2,t,i)}function Dy(t,i){return fc(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,Ny.bind(null,i,t),a)}function sd(){}function My(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Vy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=t(),Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x_(),Re.lanes|=t,jr|=t,a)}function xy(t,i,a,l){return gn(a,i)?a:Ua.current!==null?(t=ad(t,a,l),gn(t,i)||(wt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Me&261930)===0?(wt=!0,t.memoizedState=a):(t=x_(),Re.lanes|=t,jr|=t,i)}function Ly(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,A={};$.T=A,ud(t,!1,i,a);try{var C=h(),z=$.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Vb(C,l);ml(t,i,Y,An(t))}else ml(t,i,l,An(t))}catch(J){ml(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{se.p=d,_!==null&&A.types!==null&&(_.types=A.types),$.T=_}}function zb(){}function od(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;Ly(t,h,i,pe,a===null?zb:function(){return Py(t),a(l)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},An())}function ld(){return Ht(Ol)}function Uy(){return gt().memoizedState}function zy(){return gt().memoizedState}function jb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=xr(a);var l=Lr(i,t,a);l!==null&&(hn(l,i,a),ul(l,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function Bb(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?By(i,a):(a=Rf(t,i,a,l),a!==null&&(hn(a,t,l),qy(a,i,l)))}function jy(t,i,a){var l=An();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))By(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(h.hasEagerState=!0,h.eagerState=A,gn(A,_))return Ku(t,i,h,0),tt===null&&Qu(),!1}catch{}finally{}if(a=Rf(t,i,h,l),a!==null)return hn(a,t,l),qy(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=Rf(t,a,l,2),i!==null&&hn(i,t,2)}function dc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function By(t,i){za=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var pl={readContext:Ht,use:uc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};pl.useEffectEvent=ht;var Hy={readContext:Ht,use:uc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,Ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Hs){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Bb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=jy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,i){var a=nn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Ly.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Me&127)!==0||cy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},hy.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=tt.identifierPrefix;if(Pe){var a=bi,l=Si;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=xb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return nn().memoizedState=jb.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ht,use:uc,useCallback:My,useContext:Ht,useEffect:rd,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:Vy,useReducer:cc,useRef:wy,useState:function(){return cc(Ji)},useDebugValue:sd,useDeferredValue:function(t,i){var a=gt();return xy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=cc(Ji)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:ld,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=gt();return py(a,Ze,t,i)},useMemoCache:Wf,useCacheRefresh:zy};cd.useEffectEvent=Iy;var Fy={readContext:Ht,use:uc,useCallback:My,useContext:Ht,useEffect:rd,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:Vy,useReducer:td,useRef:wy,useState:function(){return td(Ji)},useDebugValue:sd,useDeferredValue:function(t,i){var a=gt();return Ze===null?ad(a,t,i):xy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=td(Ji)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:ld,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=gt();return Ze!==null?py(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:zy};Fy.useEffectEvent=Iy;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(hn(i,t,a),ul(i,t,a))}};function Gy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function Qy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Fs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ky(t){Gu(t)}function Yy(t){console.error(t)}function $y(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Jy(t){return t=xr(t),t.tag=3,t}function Zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xy(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function qb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Rc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Rc(),!1}if(Pe)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),rl(On(t,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),rl(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=dd(t.stateNode,l,h),Hf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),Sl===null?Sl=[d]:Sl.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),Zy(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),wt=!1;function Ft(t,i,a,l){i.child=t===null?ny(i,null,a,l):qs(i,t.child,a,l)}function Wy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Us(i),l=$f(t,i,a,_,d,h),A=Xf(),t!==null&&!wt?(Jf(t,i,h),Zi(t,i,h)):(Pe&&A&&Nf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function e_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,t_(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function t_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return pd(t,i,a,l,h)}function n_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return i_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?sy(i,d):Gf(),ay(i);else return l=i.lanes=536870912,i_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),sy(i,d),Pr(),i.memoizedState=null):(t!==null&&Wu(i,null),Gf(),Pr());return Ft(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function i_(t,i,a,l,h){var d=zf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),Gf(),ay(i),t!==null&&Va(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function r_(t,i,a){return qs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Hb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,gl(null,t);if(Kf(i),(t=it)?(t=gv(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=r_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=tt,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),hn(l,t,_),md;Rc(),i=r_(t,i,a)}else t=d.treeContext,it=kn(_.nextSibling),qt=i,Pe=!0,Nr=null,xn=!1,t!==null&&Fg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,h){return Us(i),a=$f(t,i,a,l,void 0,h),l=Xf(),t!==null&&!wt?(Jf(t,i,h),Zi(t,i,h)):(Pe&&l&&Nf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function s_(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=ly(i,l,a,h),oy(t),l=Xf(),t!==null&&!wt?(Jf(t,i,d),Zi(t,i,d)):(Pe&&l&&Nf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function a_(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,C=Fs(a,A);d.props=C;var z=d.context,Y=a.contextType;_=Da,typeof Y=="object"&&Y!==null&&(_=Ht(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==_)&&Qy(i,d,l,_),Vr=!1;var j=i.memoizedState;d.state=j,hl(i,l,d,h),cl(),z=i.memoizedState,A||j!==z||Vr?(typeof J=="function"&&(hd(i,a,J,l),z=i.memoizedState),(C=Vr||Gy(i,a,C,l,j,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),_=i.memoizedProps,Y=Fs(a,_),d.props=Y,J=i.pendingProps,j=d.context,z=a.contextType,C=Da,typeof z=="object"&&z!==null&&(C=Ht(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||j!==C)&&Qy(i,d,l,C),Vr=!1,j=i.memoizedState,d.state=j,hl(i,l,d,h),cl();var Q=i.memoizedState;_!==J||j!==Q||Vr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof A=="function"&&(hd(i,a,A,l),Q=i.memoizedState),(Y=Vr||Gy(i,a,Y,l,j,Q,C)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=qs(i,t.child,null,h),i.child=qs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function o_(t,i,a,l){return ks(),i.flags|=256,Ft(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Xg()}}function _d(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function l_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?kr(i):Pr(),(t=it)?(t=gv(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw Or(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Pr(),h=i.mode,A=yc({mode:"hidden",children:A},h),l=Ls(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,gl(null,l)):(kr(i),vd(i,A))}var C=t.memoizedState;if(C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),A=l.fallback,h=i.mode,l=yc({mode:"visible",children:l.children},h),A=Ls(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,qs(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,i=gl(null,l));else if(kr(i),em(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(wt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=tt,_!==null&&(l=Po(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,xs(t,l),hn(_,t,l),md;Wd(A)||Rc(),i=Ed(t,i,a)}else Wd(A)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,it=kn(A.nextSibling),qt=i,Pe=!0,Nr=null,xn=!1,t!==null&&Fg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return h?(Pr(),A=l.fallback,h=i.mode,C=t.child,z=C.sibling,l=Qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?A=Qi(z,A):(A=Ls(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,gl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=yd(a):(h=A.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Xg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=_d(t,_,a),i.memoizedState=gd,gl(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return qs(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function u_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Lf(t.return,i,a)}function Td(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function c_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,l,a),l=Pe?il:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,a,i);else if(t.tag===19)u_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function Fb(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Mr(i,St,t.memoizedState.cache),ks();break;case 27:case 5:gs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(t,i,a):(kr(i),t=Zi(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return c_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,n_(t,i,a,i.pendingProps);case 24:Mr(i,St,t.memoizedState.cache)}return Zi(t,i,a)}function h_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!Ad(t,a)&&(i.flags&128)===0)return wt=!1,Fb(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(i.flags&1048576)!==0&&Hg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Fs(t,l),i.tag=1,i=a_(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===fe){i.tag=11,i=Wy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=e_(null,i,t,l,a);break e}}throw i=De(t)||t,Error(s(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),a_(t,i,l,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(t,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,St,l),l!==d.cache&&kf(i,[St],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=o_(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),rl(h),i=o_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=kn(t.firstChild),qt=i,Pe=!0,Nr=null,xn=!0,a=ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),l===h){i=Zi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=Av(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Vc(Ie.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=Av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gs(i),t===null&&Pe&&(l=i.stateNode=vv(i.type,i.pendingProps,Ie.current),qt=i,xn=!0,h=it,Gr(i.type)?(tm=h,it=kn(l.firstChild)):it=h),Ft(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=it)&&(l=Ew(l,i.type,i.pendingProps,xn),l!==null?(i.stateNode=l,qt=i,it=kn(l.firstChild),xn=!1,h=!0):h=!1),h||Or(i)),gs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,Lb,null,null,a),Ol._currentValue=h),gc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=Tw(a,i.pendingProps,xn),a!==null?(i.stateNode=a,qt=i,it=null,t=!0):t=!1),t||Or(i)),null;case 13:return l_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=qs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Wy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return e_(t,i,i.type,i.pendingProps,a);case 15:return t_(t,i,i.type,i.pendingProps,a);case 19:return c_(t,i,a);case 31:return Hb(t,i,a);case 22:return n_(t,i,a,i.pendingProps);case 24:return Us(i),l=Ht(St),t===null?(h=zf(),h===null&&(h=tt,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Mr(i,St,h)):((t.lanes&a)!==0&&(qf(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,St,l)):(l=d.cache,Mr(i,St,l),l!==h.cache&&kf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(U_())t.flags|=8192;else throw Bs=tc,jf}else t.flags&=-16777217}function f_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(i))if(U_())t.flags|=8192;else throw Bs=tc,jf}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bu():536870912,t.lanes|=i,Ga|=i)}function yl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Gb(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(rt(i),f_(i,d)):(rt(i),Sd(i,h,null,l,a))):d?d!==t.memoizedState?(Wi(i),rt(i),f_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),rt(i),Sd(i,h,t,l,a)),null;case 27:if(ca(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ue.current,Ma(i)?Gg(i):(t=vv(h,l,a),i.stateNode=t,Wi(i))}return rt(i),null;case 5:if(ca(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ue.current,Ma(i))Gg(i);else{var _=Vc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return rt(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,a)),t||Or(i,!0)}else t=Vc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Gd(i.stateNode.containerInfo),rt(i),null;case 10:return $i(i.type),rt(i),null;case 19:if(W(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Pe&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Sc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*en()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Pe&&Ki(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return vn(i),Qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(St),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Qb(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(St),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(pt),null;case 4:return at(),null;case 10:return $i(i.type),null;case 22:case 23:return vn(i),Qf(),t!==null&&W(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(St),null;case 25:return null;default:return null}}function d_(t,i){switch(Of(i),i.tag){case 3:$i(St),at();break;case 26:case 27:case 5:ca(i);break;case 4:at();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:W(pt);break;case 10:$i(i.type);break;case 22:case 23:vn(i),Qf(),t!==null&&W(zs);break;case 24:$i(St)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(A){Xe(i,i.return,A)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var C=a,z=A;try{z()}catch(Y){Xe(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){Xe(i,i.return,Y)}}function m_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ry(i,a)}catch(l){Xe(t,t.return,l)}}}function p_(t,i,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function g_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function bd(t,i,a){try{var l=t.stateNode;mw(l,t.type,a,i),l[kt]=i}catch(h){Xe(t,t.return,h)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function __(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){Xe(t,t.return,d)}}var er=!1,Rt=!1,Id=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Kb(t,i){if(t=t.containerInfo,Yd=jc,t=Og(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,C=-1,z=0,Y=0,J=t,j=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(A=_+h),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)j=J,J=Q;for(;;){if(J===t)break t;if(j===a&&++z===h&&(A=_),j===d&&++Y===l&&(C=_),(Q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=Q}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},jc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Fs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function E_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&_l(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&m_(a),l&512&&vl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ry(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&__(a);case 26:case 5:nr(t,a),i===null&&l&4&&g_(a),l&512&&vl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&S_(t,a);break;case 13:nr(t,a),l&4&&b_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nw.bind(null,a),Aw(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Rt,h=er;var d=Rt;er=l,(Rt=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,Rt=d}break;case 30:break;default:nr(t,a)}}function T_(t){var i=t.alternate;i!==null&&(t.alternate=null,T_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function tr(t,i,a){for(a=a.child;a!==null;)A_(t,i,a),a=a.sibling}function A_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Rt||wi(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||wi(a,i);var l=lt,h=on;Gr(a.type)&&(lt=a.stateNode,on=!1),tr(t,i,a),Cl(a.stateNode),lt=l,on=h;break;case 5:Rt||wi(a,i);case 6:if(l=lt,h=on,lt=null,tr(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):mv(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,tr(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),Rt||Ur(4,a,i),tr(t,i,a);break;case 1:Rt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,tr(t,i,a),Rt=l;break;default:tr(t,i,a)}}function S_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Xe(i,i.return,a)}}}function b_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Xe(i,i.return,a)}}function Yb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new v_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new v_),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=Yb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=iw.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Gr(A.type)){lt=A.stateNode,on=!1;break e}break;case 5:lt=A.stateNode,on=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(lt===null)throw Error(s(160));A_(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)w_(i,t),i=i.sibling}var Xn=null;function w_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Ur(3,t,t.return),_l(3,t),Ur(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=wv("link","href",h).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=wv("meta","content",h).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Rv(h,t.type,t.stateNode);else t.stateNode=bv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Rv(h,t.type,t.stateNode):bv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),a!==null&&l&4&&bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(kc=null,h=Xn,Xn=xc(i.containerInfo),ln(i,t),Xn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}Id&&(Id=!1,R_(t));break;case 4:l=Xn,Xn=xc(t.stateNode.containerInfo),ln(i,t),un(t),Xn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=er,Y=Rt;if(er=z||h,Rt=Y||C,ln(i,t),Rt=Y,er=z,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||er||Rt||Gs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=C.stateNode;var J=C.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var Q=C.stateNode;h?pv(Q,!0):pv(C.stateNode,!1)}catch(ce){Xe(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);vc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var A=wd(t);vc(t,A,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=wd(t);Rd(t,z,C);break;default:throw Error(s(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function R_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;R_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Gs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p_(i,i.return,a),Gs(i);break;case 27:Cl(i.stateNode);case 26:case 5:wi(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),_l(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)iy(C[h],A)}catch(z){Xe(l,l.return,z)}}a&&_&64&&m_(d),vl(d,d.return);break;case 27:__(d);case 26:case 5:ir(h,d,a),a&&l===null&&_&4&&g_(d),vl(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&_&4&&S_(h,d);break;case 13:ir(h,d,a),a&&_&4&&b_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),vl(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(t,i,a,l),i=i.sibling}function I_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&_l(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(i,i.return,C)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):El(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(_,i);break;case 24:Jn(t,i,a,l),h&2048&&Dd(i.alternate,i);break;default:Jn(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,A,C,h),_l(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?qa(d,_,A,C,h):El(d,_):(Y._visibility|=2,qa(d,_,A,C,h)),h&&z&2048&&Cd(_.alternate,_);break;case 24:qa(d,_,A,C,h),h&&z&2048&&Dd(_.alternate,_);break;default:qa(d,_,A,C,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Cd(l.alternate,l);break;case 24:El(a,l),h&2048&&Dd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ha(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)C_(t,i,a),t=t.sibling}function C_(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&Tl&&t.memoizedState!==null&&xw(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=Xn;Xn=xc(t.stateNode.containerInfo),Ha(t,i,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ha(t,i,a),Tl=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function D_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,O_(l,t)}D_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):Al(t);break;default:Al(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,O_(l,t)}D_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function O_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(T_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var $b={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},Xb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Ne=null,Me=0,$e=0,En=null,zr=!1,Fa=!1,Nd=!1,rr=0,ft=0,jr=0,Qs=0,Od=0,Tn=0,Ga=0,Sl=null,cn=null,Md=!1,Ac=0,M_=0,Sc=1/0,bc=null,Br=null,xt=0,qr=null,Qa=null,sr=0,Vd=0,xd=null,V_=null,bl=0,Ld=null;function An(){return(Fe&2)!==0&&Me!==0?Me&-Me:$.T!==null?Bd():wu()}function x_(){if(Tn===0)if((Me&536870912)===0||Pe){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hr(t,Me,Tn,!1)),Es(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Qs|=a),ft===4&&Hr(t,Me,Tn,!1)),Ri(t))}function L_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),h=l?Wb(t,i):Pd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Jb(a)){h=Pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=Sl;var C=A.current.memoizedState.isDehydrated;if(C&&(Ka(A,_).flags|=256),_=Pd(A,_,!1),_!==2){if(Nd&&!C){A.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,Tn,!zr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-en(),10<h)){if(Hr(l,i,Tn,!zr),li(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=fv(k_.bind(null,l,a,cn,bc,Md,i,Tn,Qs,Ga,zr,d,"Throttled",-0,0),h);break e}k_(l,a,cn,bc,Md,i,Tn,Qs,Ga,zr,d,null,-0,0)}}break}while(!0);Ri(t)}function k_(t,i,a,l,h,d,_,A,C,z,Y,J,j,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},C_(i,d,J);var ce=(d&62914560)===d?Ac-en():(d&4194048)===d?M_-en():0;if(ce=Lw(J,ce),ce!==null){sr=d,t.cancelPendingCommit=ce(F_.bind(null,t,i,d,a,l,h,_,A,C,Y,J,null,j,Q)),Hr(t,d,_,!z);return}}F_(t,i,d,a,l,h,_,A,C)}function Jb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~Od,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ts(t,a,i)}function wc(){return(Fe&6)===0?(wl(0),!1):!0}function kd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Yi=Ps=null,Zf(t),Pa=null,ol=0,t=Ne;for(;t!==null;)d_(t.alternate,t),t=t.return;Ne=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,kd(),tt=t,Ne=a=Qi(t.current,null),Me=i,$e=0,En=null,zr=!1,Fa=Bn(t,i),Nd=!1,Ga=Tn=Od=Qs=jr=ft=0,cn=Sl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Qu(),a}function P_(t,i){Re=null,$.H=pl,i===ka||i===ec?(i=Wg(),$e=3):i===jf?(i=Wg(),$e=4):$e=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(ft=1,mc(t,On(i,t.current)))}function U_(){var t=_n.current;return t===null?!0:(Me&4194048)===Me?Ln===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Ln:!1}function z_(){var t=$.H;return $.H=pl,t===null?pl:t}function j_(){var t=$.A;return $.A=$b,t}function Rc(){ft=4,zr||(Me&4194048)!==Me&&_n.current!==null||(Fa=!0),(jr&134217727)===0&&(Qs&134217727)===0||tt===null||Hr(tt,Me,Tn,!1)}function Pd(t,i,a){var l=Fe;Fe|=2;var h=z_(),d=j_();(tt!==t||Me!==i)&&(bc=null,Ka(t,i)),i=!1;var _=ft;e:do try{if($e!==0&&Ne!==null){var A=Ne,C=En;switch($e){case 8:kd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=$e;if($e=0,En=null,Ya(t,A,C,z),a&&Fa){_=0;break e}break;default:z=$e,$e=0,En=null,Ya(t,A,C,z)}}Zb(),_=ft;break}catch(Y){P_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Yi=Ps=null,Fe=l,$.H=h,$.A=d,Ne===null&&(tt=null,Me=0,Qu()),_}function Zb(){for(;Ne!==null;)B_(Ne)}function Wb(t,i){var a=Fe;Fe|=2;var l=z_(),h=j_();tt!==t||Me!==i?(bc=null,Sc=en()+500,Ka(t,i)):Fa=Bn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=En;t:switch($e){case 1:$e=0,En=null,Ya(t,i,d,1);break;case 2:case 9:if(Jg(d)){$e=0,En=null,q_(i);break}i=function(){$e!==2&&$e!==9||tt!==t||($e=7),Ri(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Jg(d)?($e=0,En=null,q_(i)):($e=0,En=null,Ya(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?Iv(_):A.stateNode.complete){$e=0,En=null;var C=A.sibling;if(C!==null)Ne=C;else{var z=A.return;z!==null?(Ne=z,Ic(z)):Ne=null}break t}}$e=0,En=null,Ya(t,i,d,5);break;case 6:$e=0,En=null,Ya(t,i,d,6);break;case 8:kd(),ft=6;break e;default:throw Error(s(462))}}ew();break}catch(Y){P_(t,Y)}while(!0);return Yi=Ps=null,$.H=l,$.A=h,Fe=a,Ne!==null?0:(tt=null,Me=0,Qu(),ft)}function ew(){for(;Ne!==null&&!df();)B_(Ne)}function B_(t){var i=h_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Zf(i);default:d_(a,i),i=Ne=jg(i,rr),i=h_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function Ya(t,i,a,l){Yi=Ps=null,Zf(i),Pa=null,ol=0;var h=i.return;try{if(qb(t,h,i,a,Me)){ft=1,mc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,mc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Fa||(Me&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){H_(i,zr);return}t=i.return;var a=Gb(i.alternate,i,rr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function H_(t,i){do{var a=Qb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function F_(t,i,a,l,h,d,_,A,C){t.cancelPendingCommit=null;do Cc();while(xt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,_,A,C),t===tt&&(Ne=tt=null,Me=0),Qa=i,qr=t,sr=a,Vd=d,xd=h,V_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rw(vr,function(){return $_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=Fe,Fe|=4;try{Kb(t,i,a)}finally{Fe=_,se.p=h,$.T=l}}xt=1,G_(),Q_(),K_()}}function G_(){if(xt===1){xt=0;var t=qr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{w_(i,t);var d=$d,_=Og(t.containerInfo),A=d.focusedElem,C=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Ng(A.ownerDocument.documentElement,A)){if(C!==null&&Ef(A)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Y,A.value.length);else{var J=A.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var Q=j.getSelection(),ce=A.textContent.length,ge=Math.min(C.start,ce),et=C.end===void 0?ge:Math.min(C.end,ce);!Q.extend&&ge>et&&(_=et,et=ge,ge=_);var L=Dg(A,ge),M=Dg(A,et);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var U=J.createRange();U.setStart(L.node,L.offset),Q.removeAllRanges(),ge>et?(Q.addRange(U),Q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),Q.addRange(U))}}}}for(J=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var X=J[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}jc=!!Yd,$d=Yd=null}finally{Fe=h,se.p=l,$.T=a}}t.current=i,xt=2}}function Q_(){if(xt===2){xt=0;var t=qr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{E_(t,i.alternate,i)}finally{Fe=h,se.p=l,$.T=a}}xt=3}}function K_(){if(xt===4||xt===3){xt=0,_u();var t=qr,i=Qa,a=sr,l=V_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xt=5:(xt=0,Qa=qr=null,Y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),qi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{$.T=i,se.p=h}}(sr&3)!==0&&Cc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ld?bl++:(bl=0,Ld=t):bl=0,wl(0)}}function Y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function Cc(){return G_(),Q_(),K_(),$_()}function $_(){if(xt!==5)return!1;var t=qr,i=Vd;Vd=0;var a=qi(sr),l=$.T,h=se.p;try{se.p=32>a?32:a,$.T=null,a=xd,xd=null;var d=qr,_=sr;if(xt=0,Qa=qr=null,sr=0,(Fe&6)!==0)throw Error(s(331));var A=Fe;if(Fe|=4,N_(d.current),I_(d,d.current,_,a),Fe=A,wl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{se.p=h,$.T=l,Y_(t,i)}}function X_(t,i,a){i=On(a,i),i=dd(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Es(t,2),Ri(t))}function Xe(t,i,a){if(t.tag===3)X_(t,t,a);else for(;i!==null;){if(i.tag===3){X_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=On(a,t),a=Jy(2),l=Lr(i,a,2),l!==null&&(Zy(a,l,i,t),Es(l,2),Ri(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Xb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),t=tw.bind(null,t,i,a),i.then(t,t))}function tw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(ft===4||ft===3&&(Me&62914560)===Me&&300>en()-Ac?(Fe&2)===0&&Ka(t,0):Od|=a,Ga===Me&&(Ga=0)),Ri(t)}function J_(t,i){i===0&&(i=bu()),t=xs(t,i),t!==null&&(Es(t,i),Ri(t))}function nw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),J_(t,a)}function iw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),J_(t,a)}function rw(t,i){return Vt(t,i)}var Dc=null,$a=null,zd=!1,Nc=!1,jd=!1,Fr=0;function Ri(t){t!==$a&&t.next===null&&($a===null?Dc=$a=t:$a=$a.next=t),Nc=!0,zd||(zd=!0,aw())}function wl(t,i){if(!jd&&Nc){jd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tv(l,d))}else d=Me,d=li(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,tv(l,d));l=l.next}while(a);jd=!1}}function sw(){Z_()}function Z_(){Nc=zd=!1;var t=0;Fr!==0&&gw()&&(t=Fr);for(var i=en(),a=null,l=Dc;l!==null;){var h=l.next,d=W_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}xt!==0&&xt!==5||wl(t),Fr!==0&&(Fr=0)}function W_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),A=1<<_,C=h[_];C===-1?((A&a)===0||(A&l)!==0)&&(h[_]=pf(A,i)):C<=i&&(t.expiredLanes|=A),d&=~A}if(i=tt,a=Me,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_r(l),qi(a)){case 2:case 8:a=Lo;break;case 32:a=vr;break;case 268435456:a=vu;break;default:a=vr}return l=ev.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var l=Me;return l=li(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(L_(t,l,i),W_(t,en()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(Cc())return null;L_(t,i,!0)}function aw(){_w(function(){(Fe&6)!==0?Vt(xo,sw):Z_()})}function Bd(){if(Fr===0){var t=xa;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Fr=t}return Fr}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ow(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=nv((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new vi("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var C=_?iv(h,_):new FormData(h);od(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=_?iv(h,_):new FormData(h),od(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var qd=0;qd<bf.length;qd++){var Hd=bf[qd],lw=Hd.toLowerCase(),uw=Hd[0].toUpperCase()+Hd.slice(1);$n(lw,"on"+uw)}$n(xg,"onAnimationEnd"),$n(Lg,"onAnimationIteration"),$n(kg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(wb,"onTransitionRun"),$n(Rb,"onTransitionStart"),$n(Ib,"onTransitionCancel"),$n(Pg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(A=l[_],C=A.instance,z=A.currentTarget,A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=C}}}}function Oe(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(sv(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),sv(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Oc]){t[Oc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(cw.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Fd("selectionchange",!1,i))}}function sv(t,i,a,l){switch(xv(i)){case 2:var h=Uw;break;case 8:h=zw;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=fi(A),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}A=A.parentNode}}l=l.return}wr(function(){var z=d,Y=In(a),J=[];e:{var j=Ug.get(t);if(j!==void 0){var Q=vi,ce=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":Q=qu;break;case"focusin":ce="focus",Q=Ns;break;case"focusout":ce="blur",Q=Ns;break;case"beforeblur":case"afterblur":Q=Ns;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case xg:case Lg:case kg:Q=Lu;break;case Pg:Q=S;break;case"scroll":case"scrollend":Q=Xo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Gi;break;case"toggle":case"beforetoggle":Q=we}var ge=(i&4)!==0,et=!ge&&(t==="scroll"||t==="scrollend"),L=ge?j!==null?j+"Capture":null:j;ge=[];for(var M=z,U;M!==null;){var X=M;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||L===null||(X=Gn(M,L),X!=null&&ge.push(Il(M,X,U))),et)break;M=M.return}0<ge.length&&(j=new Q(j,ce,null,a,Y),J.push({event:j,listeners:ge}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",j&&a!==Ko&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((Q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=z,ce=ce?fi(ce):null,ce!==null&&(et=u(ce),ge=ce.tag,ce!==et||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=z),Q!==ce)){if(ge=Jo,X="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Gi,X="onPointerLeave",L="onPointerEnter",M="pointer"),et=Q==null?j:mn(Q),U=ce==null?j:mn(ce),j=new ge(X,M+"leave",Q,a,Y),j.target=et,j.relatedTarget=U,X=null,fi(Y)===z&&(ge=new ge(L,M+"enter",ce,a,Y),ge.target=U,ge.relatedTarget=et,X=ge),et=X,Q&&ce)t:{for(ge=hw,L=Q,M=ce,U=0,X=L;X;X=ge(X))U++;X=0;for(var de=M;de;de=ge(de))X++;for(;0<U-X;)L=ge(L),U--;for(;0<X-U;)M=ge(M),X--;for(;U--;){if(L===M||M!==null&&L===M.alternate){ge=L;break t}L=ge(L),M=ge(M)}ge=null}else ge=null;Q!==null&&av(J,j,Q,ge,!1),ce!==null&&et!==null&&av(J,et,ce,ge,!0)}}e:{if(j=z?mn(z):window,Q=j.nodeName&&j.nodeName.toLowerCase(),Q==="select"||Q==="input"&&j.type==="file")var Be=Sg;else if(Tg(j))if(bg)Be=Ab;else{Be=Eb;var he=vb}else Q=j.nodeName,!Q||Q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&_a(z.elementType)&&(Be=Sg):Be=Tb;if(Be&&(Be=Be(t,z))){Ag(J,Be,a,Y);break e}he&&he(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Fo(j,"number",j.value)}switch(he=z?mn(z):window,t){case"focusin":(Tg(he)||he.contentEditable==="true")&&(Ra=he,Tf=z,nl=null);break;case"focusout":nl=Tf=Ra=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Mg(J,a,Y);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Mg(J,a,Y)}var Ce;if(He)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else wa?Os(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ai&&a.locale!=="ko"&&(wa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&wa&&(Ce=$o()):(_i=Y,Yo="value"in _i?_i.value:_i.textContent,wa=!0)),he=Mc(z,Ve),0<he.length&&(Ve=new Ti(Ve,t,null,a,Y),J.push({event:Ve,listeners:he}),Ce?Ve.data=Ce:(Ce=ba(a),Ce!==null&&(Ve.data=Ce)))),(Ce=Dn?pb(t,a):gb(t,a))&&(Ve=Mc(z,"onBeforeInput"),0<Ve.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,Y),J.push({event:he,listeners:Ve}),he.data=Ce)),ow(J,t,z,a,Y)}rv(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Gn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function hw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||z===null||(C=z,h?(z=Gn(a,d),z!=null&&_.unshift(Il(a,z,C))):h||(z=Gn(a,d),z!=null&&_.push(Il(a,z,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var fw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(fw,`
`).replace(dw,"")}function lv(t,i){return i=ov(i),ov(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,ga(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var A=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(t,i,l,Y,a,null)}}Du(t,d,A,C,z,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,_,A,a,null)}Ar(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Oe(Rl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,z,l,a,null)}return;default:if(_a(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Kd(t,i,Y,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function mw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,C=null,z=null,Y=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,J)}}for(var j in l){var Q=l[j];if(J=a[j],l.hasOwnProperty(j)&&(Q!=null||J!=null))switch(j){case"type":d=Q;break;case"name":h=Q;break;case"checked":z=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&We(t,i,j,Q,l,J)}}ya(t,_,A,C,z,Y,d,h);return;case"select":Q=_=A=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==C&&We(t,i,h,d,l,C)}i=A,a=_,l=Q,j!=null?Tr(t,!!a,j,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":Q=j=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}Nu(t,j,Q);return;case"option":for(var ce in a)if(j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,j)}for(C in l)if(j=l[C],Q=a[C],l.hasOwnProperty(C)&&j!==Q&&(j!=null||Q!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:We(t,i,C,j,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)j=a[ge],a.hasOwnProperty(ge)&&j!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,j);for(z in l)if(j=l[z],Q=a[z],l.hasOwnProperty(z)&&j!==Q&&(j!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:We(t,i,z,j,l,Q)}return;default:if(_a(i)){for(var et in a)j=a[et],a.hasOwnProperty(et)&&j!==void 0&&!l.hasOwnProperty(et)&&Kd(t,i,et,void 0,l,j);for(Y in l)j=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||j===Q||j===void 0&&Q===void 0||Kd(t,i,Y,j,l,Q);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,j);for(J in l)j=l[J],Q=a[J],!l.hasOwnProperty(J)||j===Q||j==null&&Q==null||We(t,i,J,j,l,Q)}function uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&uv(_)){for(_=0,A=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>A)break;var Y=C.transferSize,J=C.initiatorType;Y&&uv(J)&&(C=C.responseEnd,_+=Y*(C<A?1:(A-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function gw(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,yw=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(vw)}:fv;function vw(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function mv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[hi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);Wa(i)}function pv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ew(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Tw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function gv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Aw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function _v(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function vv(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Pn=new Map,Ev=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:Sw,r:bw,D:ww,C:Rw,L:Iw,m:Cw,X:Nw,S:Dw,M:Ow};function Sw(){var t=ar.f(),i=wc();return t||i}function bw(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):ar.r(t)}var Xa=typeof document>"u"?null:document;function Tv(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function ww(t){ar.D(t),Tv("dns-prefetch",t,null)}function Rw(t,i){ar.C(t,i),Tv("preconnect",t,i)}function Iw(t,i,a){ar.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Pn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function Cw(t,i){ar.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function Dw(t,i,a){ar.S(t,i,a);var l=Xa;if(l&&t){var h=di(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Dl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&nm(t,a);var C=_=l.createElement("link");Tt(C),Gt(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function Nw(t,i){ar.X(t,i);var a=Xa;if(a&&t){var l=di(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=T({src:t,async:!0},i),(i=Pn.get(h))&&im(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ow(t,i){ar.M(t,i);var a=Xa;if(a&&t){var l=di(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&im(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Av(t,i,a,l){var h=(h=Ie.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||Mw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+sn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Mw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function Za(t){return'[src="'+sn(t)+'"]'}function Nl(t){return"script[async]"+t}function bv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=Sv(a),(h=Pn.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Gt(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Nl(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Pn.get(d))&&(l=T({},a),im(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function wv(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function Rv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Vw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=Sv(l),(h=Pn.get(h))&&nm(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function Lw(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*pw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(kw,t),Uc=null,Pc.call(t))}function kw(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Pw(t,i,a,l,h,d,_,A,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Cv(t,i,a,l,h,d,_,A,C,z,Y,J){return t=new Pw(t,i,a,_,C,z,Y,J,A),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function Dv(t){return t?(t=Da,t):Da}function Nv(t,i,a,l,h,d){h=Dv(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(hn(a,t,i),ul(a,t,i))}function Ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){Ov(t,i),(t=t.alternate)&&Ov(t,i)}function Mv(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&hn(i,t,67108864),sm(t,67108864)}}function Vv(t){if(t.tag===13||t.tag===31){var i=An();i=As(i);var a=xs(t,i);a!==null&&hn(a,t,i),sm(t,i)}}var jc=!0;function Uw(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=2,am(t,i,a,l)}finally{se.p=d,$.T=h}}function zw(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=8,am(t,i,a,l)}finally{se.p=d,$.T=h}}function am(t,i,a,l){if(jc){var h=om(l);if(h===null)Qd(t,i,l,Bc,a),Lv(t,l);else if(Bw(h,t,i,a,l))l.stopPropagation();else if(Lv(t,l),i&4&&-1<jw.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var C=1<<31-dt(_);A.entanglements[1]|=C,_&=~C}Ri(d),(Fe&6)===0&&(Sc=en()+500,wl(0))}}break;case 31:case 13:A=xs(d,2),A!==null&&hn(A,d,2),wc(),sm(d,2)}if(d=om(l),d===null&&Qd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,i,l,null,a)}}function om(t){return t=In(t),lm(t)}var Bc=null;function lm(t){if(Bc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case xo:return 2;case Lo:return 8;case vr:case mf:return 32;case vu:return 268435456;default:return 32}default:return 32}}var um=!1,Qr=null,Kr=null,Yr=null,Ml=new Map,Vl=new Map,$r=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&Mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Bw(t,i,a,l,h){switch(i){case"focusin":return Qr=xl(Qr,t,i,a,l,h),!0;case"dragenter":return Kr=xl(Kr,t,i,a,l,h),!0;case"mouseover":return Yr=xl(Yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,xl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function kv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,qn(t.priority,function(){Vv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,qn(t.priority,function(){Vv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Rn(a),i!==null&&Mv(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){qc(t)&&a.delete(i)}function qw(){um=!1,Qr!==null&&qc(Qr)&&(Qr=null),Kr!==null&&qc(Kr)&&(Kr=null),Yr!==null&&qc(Yr)&&(Yr=null),Ml.forEach(Pv),Vl.forEach(Pv)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qw)))}var Fc=null;function Uv(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function i(C){return Hc(C,t)}Qr!==null&&Hc(Qr,t),Kr!==null&&Hc(Kr,t),Yr!==null&&Hc(Yr,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||Uv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)A=_.formAction;else if(lm(h)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Uv(a)}}}function zv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Gc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Nv(a,l,t,i,null,null)},Gc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nv(t.current,2,null,t,null,null),wc(),i[ci]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&kv(t)}};var jv=e.version;if(jv!=="19.2.0")throw Error(s(527,jv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Hw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{jn=Qc.inject(Hw),jt=Qc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ky,d=Yy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Cv(t,1,!1,null,null,a,l,null,h,d,_,zv),t[ci]=i.current,Gd(t),new cm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ky,_=Yy,A=$y,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Cv(t,1,!0,i,a??null,l,h,C,d,_,A,zv),i.context=Dv(null),a=i.current,l=An(),l=As(l),h=xr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Es(i,a),Ri(i),t[ci]=i.current,Gd(t),new Gc(i)},kl.version="19.2.0",kl}var Xv;function e1(){if(Xv)return dm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=Ww(),dm.exports}var t1=e1();var Jv="popstate";function n1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return xm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return r1(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ti(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i1(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function xm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||i1()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function r1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),te=q==null?null:q-g;g=q,p&&p({action:m,location:K.location,delta:te})}function b(q,te){m="PUSH";let ne=xm(K.location,q,te);g=E()+1;let ie=Zv(ne,g),fe=K.createHref(ne);try{f.pushState(ie,"",fe)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(fe)}u&&p&&p({action:m,location:K.location,delta:1})}function k(q,te){m="REPLACE";let ne=xm(K.location,q,te);g=E();let ie=Zv(ne,g),fe=K.createHref(ne);f.replaceState(ie,"",fe),u&&p&&p({action:m,location:K.location,delta:0})}function H(q){return s1(q)}let K={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,T),p=q,()=>{o.removeEventListener(Jv,T),p=null}},createHref(q){return e(o,q)},createURL:H,encodeLocation(q){let te=H(q);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:b,replace:k,go(q){return f.go(q)}};return K}function s1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YT(r,e,n="/"){return a1(r,e,n,!1)}function a1(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=$T(r);o1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=_1(u);m=g1(f[p],g,s)}return m}function $T(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=cr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),$T(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:m1(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of XT(f.path))u(f,m,!0,p)}),e}function XT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=XT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function o1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:p1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var l1=/^:[\w-]+$/,u1=3,c1=2,h1=1,f1=10,d1=-2,Wv=r=>r==="*";function m1(r,e){let n=r.split("/"),s=n.length;return n.some(Wv)&&(s+=d1),e&&(s+=c1),n.filter(o=>!Wv(o)).reduce((o,u)=>o+(l1.test(u)?u1:u===""?h1:f1),s)}function p1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function g1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:cr([u,T.pathname]),pathnameBase:S1(cr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=cr([u,T.pathnameBase]))}return f}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=y1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let H=m[b]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const k=m[b];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function y1(r,e=!1,n=!0){ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E1=r=>v1.test(r);function T1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r,u;if(n)if(E1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=eE(n.substring(1),"/"):u=eE(n,e)}else u=e;return{pathname:u,search:b1(s),hash:w1(o)}}function eE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JT(r){let e=A1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ZT(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=T1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),S1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,w1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function R1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WT=["POST","PUT","PATCH","DELETE"];new Set(WT);var I1=["GET",...WT];new Set(I1);var To=B.createContext(null);To.displayName="DataRouter";var Uh=B.createContext(null);Uh.displayName="DataRouterState";B.createContext(!1);var e0=B.createContext({isTransitioning:!1});e0.displayName="ViewTransition";var C1=B.createContext(new Map);C1.displayName="Fetchers";var D1=B.createContext(null);D1.displayName="Await";var zi=B.createContext(null);zi.displayName="Navigation";var nu=B.createContext(null);nu.displayName="Location";var ji=B.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var fp=B.createContext(null);fp.displayName="RouteError";function N1(r,{relative:e}={}){ut(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(zi),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function iu(){return B.useContext(nu)!=null}function ds(){return ut(iu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nu).location}var t0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n0(r){B.useContext(zi).static||B.useLayoutEffect(r)}function ru(){let{isDataRoute:r}=B.useContext(ji);return r?F1():O1()}function O1(){ut(iu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(To),{basename:e,navigator:n}=B.useContext(zi),{matches:s}=B.useContext(ji),{pathname:o}=ds(),u=JSON.stringify(JT(s)),f=B.useRef(!1);return n0(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(ti(f.current,t0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ZT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}B.createContext(null);function M1(){let{matches:r}=B.useContext(ji),e=r[r.length-1];return e?e.params:{}}function su(r,{relative:e}={}){let{matches:n}=B.useContext(ji),{pathname:s}=ds(),o=JSON.stringify(JT(n));return B.useMemo(()=>ZT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function V1(r,e){return i0(r,e)}function i0(r,e,n,s,o){ut(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(zi),{matches:f}=B.useContext(ji),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";r0(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let b=ds(),k;if(e){let ne=typeof e=="string"?Eo(e):e;ut(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=b;let H=k.pathname||"/",K=H;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=YT(r,{pathname:K});ti(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ti(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=U1(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&te?B.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},te):te}function x1(){let r=H1(),e=R1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var L1=B.createElement(x1,null),k1=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(ji.Provider,{value:this.props.routeContext},B.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P1({routeContext:r,match:e,children:n}){let s=B.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ji.Provider,{value:r},n)}function U1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:k}=n,H=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let k,H=!1,K=null,q=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||L1,m&&(p<0&&b===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,q=null):p===b&&(H=!0,q=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,b+1)),ne=()=>{let ie;return k?ie=K:H?ie=q:T.route.Component?ie=B.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,B.createElement(P1,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?B.createElement(k1,{location:n.location,revalidation:n.revalidation,component:K,error:k,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ne()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(r){let e=B.useContext(To);return ut(e,dp(r)),e}function j1(r){let e=B.useContext(Uh);return ut(e,dp(r)),e}function B1(r){let e=B.useContext(ji);return ut(e,dp(r)),e}function mp(r){let e=B1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function q1(){return mp("useRouteId")}function H1(){let r=B.useContext(fp),e=j1("useRouteError"),n=mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function F1(){let{router:r}=z1("useNavigate"),e=mp("useNavigate"),n=B.useRef(!1);return n0(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{ti(n.current,t0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var tE={};function r0(r,e,n){!e&&!tE[r]&&(tE[r]=!0,ti(!1,n))}B.memo(G1);function G1({routes:r,future:e,state:n,unstable_onError:s}){return i0(r,void 0,n,s,e)}function eh(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:b="default"}=n,k=B.useMemo(()=>{let H=fr(p,f);return H==null?null:{location:{pathname:H,search:g,hash:E,state:T,key:b},navigationType:s}},[f,p,g,E,T,b,s]);return ti(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(zi.Provider,{value:m},B.createElement(nu.Provider,{children:e,value:k}))}function K1({children:r,location:e}){return V1(Lm(r),e)}function Lm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Lm(s.props.children,u));return}ut(s.type===eh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function Y1(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function $1(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function X1(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function J1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Z1(r,e){return r.button===0&&(!e||e==="_self")&&!J1(r)}var Kc=null;function W1(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var eR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!eR.has(r)?(ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function tR(r,e){let n,s,o,u,f;if($1(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||th,o=_m(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(Y1(r)||X1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!W1()){let{name:g,type:E,value:T}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function iR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await iR(u,n);return f.links?f.links():[]}return[]}));return uR(s.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nE(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function aR(r,e,{includeHydrateFallback:n}={}){return oR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function oR(r){return[...new Set(r)]}function lR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function uR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(lR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function s0(){let r=B.useContext(To);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cR(){let r=B.useContext(Uh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=B.createContext(void 0);gp.displayName="FrameworkContext";function a0(){let r=B.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function hR(r,e){let n=B.useContext(gp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=te=>{te.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return b.current&&q.observe(b.current),()=>{q.disconnect()}}},[r]),B.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let k=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Pl(m,k),onBlur:Pl(p,H),onMouseEnter:Pl(g,k),onMouseLeave:Pl(E,H),onTouchStart:Pl(T,k)}]:[!1,b,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function fR({page:r,...e}){let{router:n}=s0(),s=B.useMemo(()=>YT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(mR,{page:r,matches:s,...e}):null}function dR(r){let{manifest:e,routeModules:n}=a0(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return sR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function mR({page:r,matches:e,...n}){let s=ds(),{manifest:o,routeModules:u}=a0(),{basename:f}=s0(),{loaderData:m,matches:p}=cR(),g=B.useMemo(()=>nE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>nE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,K=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:H.add(te.route.id))}),H.size===0)return[];let q=nR(r,f,"data");return K&&H.size>0&&q.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),b=B.useMemo(()=>aR(E,o),[E,o]),k=dR(E);return B.createElement(B.Fragment,null,T.map(H=>B.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),b.map(H=>B.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),k.map(({key:H,link:K})=>B.createElement("link",{key:H,nonce:n.nonce,...K})))}function pR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o0&&(window.__reactRouterVersion="7.9.6")}catch{}function gR({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=n1({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(Q1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},k){let{basename:H}=B.useContext(zi),K=typeof g=="string"&&l0.test(g),q,te=!1;if(typeof g=="string"&&K&&(q=g,o0))try{let I=new URL(window.location.href),x=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=fr(x.pathname,H);x.origin===I.origin&&O!=null?g=O+x.search+x.hash:te=!0}catch{ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=N1(g,{relative:o}),[ie,fe,Te]=hR(s,b),Ae=ER(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function D(I){e&&e(I),I.defaultPrevented||Ae(I)}let w=B.createElement("a",{...b,...Te,href:q||ne,onClick:te||u?e:D,ref:pR(k,fe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?B.createElement(B.Fragment,null,w,B.createElement(fR,{page:ne})):w});yp.displayName="Link";var yR=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=su(f,{relative:g.relative}),b=ds(),k=B.useContext(Uh),{navigator:H,basename:K}=B.useContext(zi),q=k!=null&&wR(T)&&m===!0,te=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ne=b.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&K&&(ie=fr(ie,K)||ie);const fe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Te=ne===te||!o&&ne.startsWith(te)&&ne.charAt(fe)==="/",Ae=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),D={isActive:Te,isPending:Ae,isTransitioning:q},w=Te?e:void 0,I;typeof s=="function"?I=s(D):I=[s,Te?"active":null,Ae?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(D):u;return B.createElement(yp,{...g,"aria-current":w,className:I,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(D):p)});yR.displayName="NavLink";var _R=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},k)=>{let H=SR(),K=bR(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&l0.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Te=fe?.getAttribute("formmethod")||f;H(fe||ie.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return B.createElement("form",{ref:k,method:q,action:K,onSubmit:s?p:ne,...b,"data-discover":!te&&r==="render"?"true":void 0})});_R.displayName="Form";function vR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u0(r){let e=B.useContext(To);return ut(e,vR(r)),e}function ER(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ru(),p=ds(),g=su(r,{relative:u});return B.useCallback(E=>{if(Z1(E,e)){E.preventDefault();let T=n!==void 0?n:$l(p)===$l(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var TR=0,AR=()=>`__${String(++TR)}__`;function SR(){let{router:r}=u0("useSubmit"),{basename:e}=B.useContext(zi),n=q1();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=tR(s,e);if(o.navigate===!1){let E=o.fetcherKey||AR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function bR(r,{relative:e}={}){let{basename:n}=B.useContext(zi),s=B.useContext(ji);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),$l(u)}function wR(r,{relative:e}={}){let n=B.useContext(e0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u0("useViewTransitionState"),o=su(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,f)!=null||dh(o.pathname,u)!=null}const RR="/khata-book/assets/logo192-Byw8NTHv.png",IR=()=>{};var iE={};const c0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},CR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(b=64)),s.push(n[E],n[T],n[b],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new DR;const b=u<<2|m>>4;if(s.push(b),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(r){const e=c0(r);return h0.encodeByteArray(e,!0)},mh=function(r){return NR(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MR=()=>OR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof iE>"u")return;const r=iE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&f0(r[1]);return e&&JSON.parse(e)},jh=()=>{try{return IR()||MR()||VR()||xR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>jh()?.emulatorHosts?.[r],LR=r=>{const e=d0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m0=()=>jh()?.config,p0=r=>jh()?.[`_${r}`];class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(r){return(await fetch(r,{credentials:"include"})).ok}function PR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}const Hl={};function UR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function zR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let rE=!1;function y0(r,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Hl[r]===e||Hl[r]||rE)return;Hl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=UR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{rE=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=zR(s),k=n("text"),H=document.getElementById(k)||document.createElement("span"),K=n("learnmore"),q=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;m(ie),E(q,K);const fe=g();p(ne,te),ie.append(ne,H,q,fe),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function BR(){const r=jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function E0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function QR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const KR="FirebaseError";class ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=KR,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?YR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ri(o,m,s)}}function YR(r,e){return r.replace($R,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $R=/\{\$([^}]+)}/g;function XR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Li(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(sE(u)&&sE(f)){if(!Li(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sE(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function JR(r,e){const n=new ZR(r,e);return n.subscribe.bind(n)}class ZR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}const eI=1e3,tI=2,nI=14400*1e3,iI=.5;function aE(r,e=eI,n=tI){const s=e*Math.pow(n,r),o=Math.round(iI*s*(Math.random()-.5)*2);return Math.min(nI,s+o)}function Ot(r){return r&&r._delegate?r._delegate:r}class ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ks="[DEFAULT]";class rI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aI(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(r){return r===Ks?void 0:r}function aI(r){return r.instantiationMode==="EAGER"}class oI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const lI={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},uI=xe.INFO,cI={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},hI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=cI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const fI=(r,e)=>e.some(n=>r instanceof n);let oE,lE;function dI(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,km=new WeakMap,A0=new WeakMap,Em=new WeakMap,_p=new WeakMap;function pI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&T0.set(n,r)}).catch(()=>{}),_p.set(e,r),e}function gI(r){if(km.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});km.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yI(r){Pm=r(Pm)}function _I(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return A0.set(s,e.sort?e.sort():[e]),ns(s)}:mI().includes(r)?function(...e){return r.apply(Tm(this),e),ns(T0.get(this))}:function(...e){return ns(r.apply(Tm(this),e))}}function vI(r){return typeof r=="function"?_I(r):(r instanceof IDBTransaction&&gI(r),fI(r,dI())?new Proxy(r,Pm):r)}function ns(r){if(r instanceof IDBRequest)return pI(r);if(Em.has(r))return Em.get(r);const e=vI(r);return e!==r&&(Em.set(r,e),_p.set(e,r)),e}const Tm=r=>_p.get(r);function S0(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const EI=["get","getKey","getAll","getAllKeys","count"],TI=["put","add","delete","clear"],Am=new Map;function uE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||EI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Am.set(e,u),u}yI(r=>({...r,get:(e,n,s)=>uE(e,n)||r.get(e,n,s),has:(e,n)=>!!uE(e,n)||r.has(e,n)}));class AI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SI(r){return r.getComponent()?.type==="VERSION"}const Um="@firebase/app",cE="0.14.6";const dr=new Bh("@firebase/app"),bI="@firebase/app-compat",wI="@firebase/analytics-compat",RI="@firebase/analytics",II="@firebase/app-check-compat",CI="@firebase/app-check",DI="@firebase/auth",NI="@firebase/auth-compat",OI="@firebase/database",MI="@firebase/data-connect",VI="@firebase/database-compat",xI="@firebase/functions",LI="@firebase/functions-compat",kI="@firebase/installations",PI="@firebase/installations-compat",UI="@firebase/messaging",zI="@firebase/messaging-compat",jI="@firebase/performance",BI="@firebase/performance-compat",qI="@firebase/remote-config",HI="@firebase/remote-config-compat",FI="@firebase/storage",GI="@firebase/storage-compat",QI="@firebase/firestore",KI="@firebase/ai",YI="@firebase/firestore-compat",$I="firebase",XI="12.6.0";const zm="[DEFAULT]",JI={[Um]:"fire-core",[bI]:"fire-core-compat",[RI]:"fire-analytics",[wI]:"fire-analytics-compat",[CI]:"fire-app-check",[II]:"fire-app-check-compat",[DI]:"fire-auth",[NI]:"fire-auth-compat",[OI]:"fire-rtdb",[MI]:"fire-data-connect",[VI]:"fire-rtdb-compat",[xI]:"fire-fn",[LI]:"fire-fn-compat",[kI]:"fire-iid",[PI]:"fire-iid-compat",[UI]:"fire-fcm",[zI]:"fire-fcm-compat",[jI]:"fire-perf",[BI]:"fire-perf-compat",[qI]:"fire-rc",[HI]:"fire-rc-compat",[FI]:"fire-gcs",[GI]:"fire-gcs-compat",[QI]:"fire-fst",[YI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};const ph=new Map,ZI=new Map,jm=new Map;function hE(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ki(r){const e=r.name;if(jm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const n of ph.values())hE(n,r);for(const n of ZI.values())hE(n,r);return!0}function aa(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}const WI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new sa("app","Firebase",WI);class eC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const So=XI;function b0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=m0()),!n)throw is.create("no-options");const u=ph.get(o);if(u){if(Li(n,u.options)&&Li(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new oI(o);for(const p of jm.values())f.addComponent(p);const m=new eC(n,s,f);return ph.set(o,m),m}function vp(r=zm){const e=ph.get(r);if(!e&&r===zm&&m0())return b0();if(!e)throw is.create("no-app",{appName:r});return e}function zn(r,e,n){let s=JI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}ki(new ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tC="firebase-heartbeat-database",nC=1,Xl="firebase-heartbeat-store";let Sm=null;function w0(){return Sm||(Sm=S0(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function iC(r){try{const n=(await w0()).transaction(Xl),s=await n.objectStore(Xl).get(R0(r));return await n.done,s}catch(e){if(e instanceof ri)dr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function fE(r,e){try{const s=(await w0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,R0(r)),await s.done}catch(n){if(n instanceof ri)dr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const rC=1024,sC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sC){const o=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),mE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?E0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mE(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function cC(r){ki(new ni("platform-logger",e=>new AI(e),"PRIVATE")),ki(new ni("heartbeat",e=>new aC(e),"PRIVATE")),zn(Um,cE,r),zn(Um,cE,"esm2020"),zn("fire-js","")}cC("");var hC="firebase",fC="12.6.0";zn(hC,fC,"app");const I0="@firebase/installations",Ep="0.6.19";const C0=1e4,D0=`w:${Ep}`,N0="FIS_v2",dC="https://firebaseinstallations.googleapis.com/v1",mC=3600*1e3,pC="installations",gC="Installations";const yC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new sa(pC,gC,yC);function O0(r){return r instanceof ri&&r.code.includes("request-failed")}function M0({projectId:r}){return`${dC}/projects/${r}/installations`}function V0(r){return{token:r.token,requestStatus:2,expiresIn:vC(r.expiresIn),creationTime:Date.now()}}async function x0(r,e){const s=(await e.json()).error;return ea.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function L0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function _C(r,{refreshToken:e}){const n=L0(r);return n.append("Authorization",EC(e)),n}async function k0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function vC(r){return Number(r.replace("s","000"))}function EC(r){return`${N0} ${r}`}async function TC({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=M0(r),o=L0(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:N0,appId:r.appId,sdkVersion:D0},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await k0(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:V0(g.authToken)}}else throw await x0("Create Installation",p)}function P0(r){return new Promise(e=>{setTimeout(e,r)})}function AC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const SC=/^[cdef][\w-]{21}$/,Bm="";function bC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=wC(r);return SC.test(n)?n:Bm}catch{return Bm}}function wC(r){return AC(r).substr(0,22)}function qh(r){return`${r.appName}!${r.appId}`}const U0=new Map;function z0(r,e){const n=qh(r);j0(n,e),RC(n,e)}function j0(r,e){const n=U0.get(r);if(n)for(const s of n)s(e)}function RC(r,e){const n=IC();n&&n.postMessage({key:r,fid:e}),CC()}let Ys=null;function IC(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=r=>{j0(r.data.key,r.data.fid)}),Ys}function CC(){U0.size===0&&Ys&&(Ys.close(),Ys=null)}const DC="firebase-installations-database",NC=1,ta="firebase-installations-store";let bm=null;function Tp(){return bm||(bm=S0(DC,NC,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ta)}}})),bm}async function gh(r,e){const n=qh(r),o=(await Tp()).transaction(ta,"readwrite"),u=o.objectStore(ta),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&z0(r,e.fid),e}async function B0(r){const e=qh(r),s=(await Tp()).transaction(ta,"readwrite");await s.objectStore(ta).delete(e),await s.done}async function Hh(r,e){const n=qh(r),o=(await Tp()).transaction(ta,"readwrite"),u=o.objectStore(ta),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&z0(r,m.fid),m}async function Ap(r){let e;const n=await Hh(r.appConfig,s=>{const o=OC(s),u=MC(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Bm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OC(r){const e=r||{fid:bC(),registrationStatus:0};return q0(e)}function MC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=VC(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xC(r)}:{installationEntry:e}}async function VC(r,e){try{const n=await TC(r,e);return gh(r.appConfig,n)}catch(n){throw O0(n)&&n.customData.serverCode===409?await B0(r.appConfig):await gh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function xC(r){let e=await pE(r.appConfig);for(;e.registrationStatus===1;)await P0(100),e=await pE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ap(r);return s||n}return e}function pE(r){return Hh(r,e=>{if(!e)throw ea.create("installation-not-found");return q0(e)})}function q0(r){return LC(r)?{fid:r.fid,registrationStatus:0}:r}function LC(r){return r.registrationStatus===1&&r.registrationTime+C0<Date.now()}async function kC({appConfig:r,heartbeatServiceProvider:e},n){const s=PC(r,n),o=_C(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:D0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await k0(()=>fetch(s,m));if(p.ok){const g=await p.json();return V0(g)}else throw await x0("Generate Auth Token",p)}function PC(r,{fid:e}){return`${M0(r)}/${e}/authTokens:generate`}async function Sp(r,e=!1){let n;const s=await Hh(r.appConfig,u=>{if(!H0(u))throw ea.create("not-registered");const f=u.authToken;if(!e&&jC(f))return u;if(f.requestStatus===1)return n=UC(r,e),u;{if(!navigator.onLine)throw ea.create("app-offline");const m=qC(u);return n=zC(r,m),m}});return n?await n:s.authToken}async function UC(r,e){let n=await gE(r.appConfig);for(;n.authToken.requestStatus===1;)await P0(100),n=await gE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Sp(r,e):s}function gE(r){return Hh(r,e=>{if(!H0(e))throw ea.create("not-registered");const n=e.authToken;return HC(n)?{...e,authToken:{requestStatus:0}}:e})}async function zC(r,e){try{const n=await kC(r,e),s={...e,authToken:n};return await gh(r.appConfig,s),n}catch(n){if(O0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await B0(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await gh(r.appConfig,s)}throw n}}function H0(r){return r!==void 0&&r.registrationStatus===2}function jC(r){return r.requestStatus===2&&!BC(r)}function BC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+mC}function qC(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function HC(r){return r.requestStatus===1&&r.requestTime+C0<Date.now()}async function FC(r){const e=r,{installationEntry:n,registrationPromise:s}=await Ap(e);return s?s.catch(console.error):Sp(e).catch(console.error),n.fid}async function GC(r,e=!1){const n=r;return await QC(n),(await Sp(n,e)).token}async function QC(r){const{registrationPromise:e}=await Ap(r);e&&await e}function KC(r){if(!r||!r.options)throw wm("App Configuration");if(!r.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw wm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function wm(r){return ea.create("missing-app-config-values",{valueName:r})}const F0="installations",YC="installations-internal",$C=r=>{const e=r.getProvider("app").getImmediate(),n=KC(e),s=aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},XC=r=>{const e=r.getProvider("app").getImmediate(),n=aa(e,F0).getImmediate();return{getId:()=>FC(n),getToken:o=>GC(n,o)}};function JC(){ki(new ni(F0,$C,"PUBLIC")),ki(new ni(YC,XC,"PRIVATE"))}JC();zn(I0,Ep);zn(I0,Ep,"esm2020");const yh="analytics",ZC="firebase_id",WC="origin",e2=60*1e3,t2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bp="https://www.googletagmanager.com/gtag/js";const rn=new Bh("@firebase/analytics");const n2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new sa("analytics","Analytics",n2);function i2(r){if(!r.startsWith(bp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(e.message),""}return r}function G0(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function r2(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function s2(r,e){const n=r2("firebase-js-sdk-policy",{createScriptURL:i2}),s=document.createElement("script"),o=`${bp}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function a2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function o2(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await G0(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){rn.error(m)}r("config",o,u)}async function l2(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await G0(n);for(const p of f){const g=m.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){rn.error(u)}}function u2(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await l2(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await o2(r,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){rn.error(m)}}return o}function c2(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=u2(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function h2(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bp)&&n.src.includes(r))return n;return null}const f2=30,d2=1e3;class m2{constructor(e={},n=d2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q0=new m2;function p2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function g2(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:p2(n)},o=t2.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function y2(r,e=Q0,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw bn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new E2;return setTimeout(async()=>{m.abort()},e2),K0({appId:s,apiKey:o,measurementId:u},f,m,e)}async function K0(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=Q0){const{appId:u,measurementId:f}=r;try{await _2(s,e)}catch(m){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await g2(r);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!v2(p)){if(o.deleteThrottleMetadata(u),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?aE(n,o.intervalMillis,f2):aE(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${g} millis`),K0(r,E,s,o)}}function _2(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function v2(r){if(!(r instanceof ri)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class E2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T2(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f={...s,send_to:u};r("event",n,f)}}async function A2(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function S2(){if(v0())try{await E0()}catch(r){return rn.warn(bn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return rn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b2(r,e,n,s,o,u,f){const m=y2(r);m.then(b=>{n[b.measurementId]=b.appId,r.options.measurementId&&b.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>rn.error(b)),e.push(m);const p=S2().then(b=>{if(b)return s.getId()}),[g,E]=await Promise.all([m,p]);h2(u)||s2(u,g.measurementId),o("js",new Date);const T=f?.config??{};return T[WC]="firebase",T.update=!0,E!=null&&(T[ZC]=E),o("config",g.measurementId,T),g.measurementId}class w2{constructor(e){this.app=e}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},yE=[];const _E={};let Rm="dataLayer",R2="gtag",vE,wp,EE=!1;function I2(){const r=[];if(_0()&&r.push("This is a browser extension environment."),QR()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function C2(r,e,n){I2();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(ro[s]!=null)throw bn.create("already-exists",{id:s});if(!EE){a2(Rm);const{wrappedGtag:u,gtagCore:f}=c2(ro,yE,_E,Rm,R2);wp=u,vE=f,EE=!0}return ro[s]=b2(r,yE,_E,e,vE,Rm,n),new w2(r)}function D2(r=vp()){r=Ot(r);const e=aa(r,yh);return e.isInitialized()?e.getImmediate():N2(r)}function N2(r,e={}){const n=aa(r,yh);if(n.isInitialized()){const o=n.getImmediate();if(Li(e,n.getOptions()))return o;throw bn.create("already-initialized")}return n.initialize({options:e})}function O2(r,e,n){r=Ot(r),A2(wp,ro[r.app.options.appId],e,n).catch(s=>rn.error(s))}function M2(r,e,n,s){r=Ot(r),T2(wp,ro[r.app.options.appId],e,n,s).catch(o=>rn.error(o))}const TE="@firebase/analytics",AE="0.10.19";function V2(){ki(new ni(yh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return C2(s,o,n)},"PUBLIC")),ki(new ni("analytics-internal",r,"PRIVATE")),zn(TE,AE),zn(TE,AE,"esm2020");function r(e){try{const n=e.getProvider(yh).getImmediate();return{logEvent:(s,o,u)=>M2(n,s,o,u),setUserProperties:(s,o)=>O2(n,s,o)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}V2();var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,Y0;(function(){var r;function e(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(x,O,N){for(var R=Array(arguments.length-2),De=2;De<arguments.length;De++)R[De-2]=arguments[De];return w.prototype[O].apply(x,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],O=D.g[2];let N=D.g[3],R;R=w+(N^I&(O^N))+x[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=N+(O^w&(I^O))+x[1]+3905402710&4294967295,N=w+(R<<12&4294967295|R>>>20),R=O+(I^N&(w^I))+x[2]+606105819&4294967295,O=N+(R<<17&4294967295|R>>>15),R=I+(w^O&(N^w))+x[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(N^I&(O^N))+x[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=N+(O^w&(I^O))+x[5]+1200080426&4294967295,N=w+(R<<12&4294967295|R>>>20),R=O+(I^N&(w^I))+x[6]+2821735955&4294967295,O=N+(R<<17&4294967295|R>>>15),R=I+(w^O&(N^w))+x[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(N^I&(O^N))+x[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=N+(O^w&(I^O))+x[9]+2336552879&4294967295,N=w+(R<<12&4294967295|R>>>20),R=O+(I^N&(w^I))+x[10]+4294925233&4294967295,O=N+(R<<17&4294967295|R>>>15),R=I+(w^O&(N^w))+x[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(N^I&(O^N))+x[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=N+(O^w&(I^O))+x[13]+4254626195&4294967295,N=w+(R<<12&4294967295|R>>>20),R=O+(I^N&(w^I))+x[14]+2792965006&4294967295,O=N+(R<<17&4294967295|R>>>15),R=I+(w^O&(N^w))+x[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^N&(I^O))+x[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=N+(I^O&(w^I))+x[6]+3225465664&4294967295,N=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(N^w))+x[11]+643717713&4294967295,O=N+(R<<14&4294967295|R>>>18),R=I+(N^w&(O^N))+x[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^N&(I^O))+x[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=N+(I^O&(w^I))+x[10]+38016083&4294967295,N=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(N^w))+x[15]+3634488961&4294967295,O=N+(R<<14&4294967295|R>>>18),R=I+(N^w&(O^N))+x[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^N&(I^O))+x[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=N+(I^O&(w^I))+x[14]+3275163606&4294967295,N=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(N^w))+x[3]+4107603335&4294967295,O=N+(R<<14&4294967295|R>>>18),R=I+(N^w&(O^N))+x[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^N&(I^O))+x[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=N+(I^O&(w^I))+x[2]+4243563512&4294967295,N=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(N^w))+x[7]+1735328473&4294967295,O=N+(R<<14&4294967295|R>>>18),R=I+(N^w&(O^N))+x[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^N)+x[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=N+(w^I^O)+x[8]+2272392833&4294967295,N=w+(R<<11&4294967295|R>>>21),R=O+(N^w^I)+x[11]+1839030562&4294967295,O=N+(R<<16&4294967295|R>>>16),R=I+(O^N^w)+x[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^N)+x[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=N+(w^I^O)+x[4]+1272893353&4294967295,N=w+(R<<11&4294967295|R>>>21),R=O+(N^w^I)+x[7]+4139469664&4294967295,O=N+(R<<16&4294967295|R>>>16),R=I+(O^N^w)+x[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^N)+x[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=N+(w^I^O)+x[0]+3936430074&4294967295,N=w+(R<<11&4294967295|R>>>21),R=O+(N^w^I)+x[3]+3572445317&4294967295,O=N+(R<<16&4294967295|R>>>16),R=I+(O^N^w)+x[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^N)+x[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=N+(w^I^O)+x[12]+3873151461&4294967295,N=w+(R<<11&4294967295|R>>>21),R=O+(N^w^I)+x[15]+530742520&4294967295,O=N+(R<<16&4294967295|R>>>16),R=I+(O^N^w)+x[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~N))+x[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=N+(I^(w|~O))+x[7]+1126891415&4294967295,N=w+(R<<10&4294967295|R>>>22),R=O+(w^(N|~I))+x[14]+2878612391&4294967295,O=N+(R<<15&4294967295|R>>>17),R=I+(N^(O|~w))+x[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~N))+x[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=N+(I^(w|~O))+x[3]+2399980690&4294967295,N=w+(R<<10&4294967295|R>>>22),R=O+(w^(N|~I))+x[10]+4293915773&4294967295,O=N+(R<<15&4294967295|R>>>17),R=I+(N^(O|~w))+x[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~N))+x[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=N+(I^(w|~O))+x[15]+4264355552&4294967295,N=w+(R<<10&4294967295|R>>>22),R=O+(w^(N|~I))+x[6]+2734768916&4294967295,O=N+(R<<15&4294967295|R>>>17),R=I+(N^(O|~w))+x[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~N))+x[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=N+(I^(w|~O))+x[11]+3174756917&4294967295,N=w+(R<<10&4294967295|R>>>22),R=O+(w^(N|~I))+x[2]+718787259&4294967295,O=N+(R<<15&4294967295|R>>>17),R=I+(N^(O|~w))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+N&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,x=this.C;let O=this.h,N=0;for(;N<w;){if(O==0)for(;N<=I;)o(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<w;)if(x[O++]=D.charCodeAt(N++),O==this.blockSize){o(this,x),O=0;break}}else for(;N<w;)if(x[O++]=D[N++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)D[w++]=this.g[I]>>>x&255;return D};function u(D,w){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function f(D,w){this.h=w;const I=[];let x=!0;for(let O=D.length-1;O>=0;O--){const N=D[O]|0;x&&N==w||(I[O]=N,x=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return q(g(-D));const w=[];let I=1;for(let x=0;D>=I;x++)w[x]=D/I|0,I*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return q(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let x=T;for(let N=0;N<D.length;N+=8){var O=Math.min(8,D.length-N);const R=parseInt(D.substring(N,N+O),w);O<8?(O=g(Math.pow(w,O)),x=x.j(O).add(g(R))):(x=x.j(I),x=x.add(g(R)))}return x}var T=p(0),b=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-q(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);D+=(x>=0?x:4294967296+x)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(K(this))return"-"+q(this).toString(D);const w=g(Math.pow(D,6));var I=this;let x="";for(;;){const O=fe(I,w).g;I=te(I,O.j(w));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,H(I))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function K(D){return D.h==-1}r.l=function(D){return D=te(this,D),K(D)?-1:H(D)?0:1};function q(D){const w=D.g.length,I=[];for(let x=0;x<w;x++)I[x]=~D.g[x];return new f(I,~D.h).add(b)}r.abs=function(){return K(this)?q(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let x=0;for(let O=0;O<=w;O++){let N=x+(this.i(O)&65535)+(D.i(O)&65535),R=(N>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);x=R>>>16,N&=65535,R&=65535,I[O]=R<<16|N}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(D,w){return D.add(q(w))}r.j=function(D){if(H(this)||H(D))return T;if(K(this))return K(D)?q(this).j(q(D)):q(q(this).j(D));if(K(D))return q(this.j(q(D)));if(this.l(k)<0&&D.l(k)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<D.g.length;O++){const N=this.i(x)>>>16,R=this.i(x)&65535,De=D.i(O)>>>16,Qe=D.i(O)&65535;I[2*x+2*O]+=R*Qe,ne(I,2*x+2*O),I[2*x+2*O+1]+=N*Qe,ne(I,2*x+2*O+1),I[2*x+2*O+1]+=R*De,ne(I,2*x+2*O+1),I[2*x+2*O+2]+=N*De,ne(I,2*x+2*O+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new f(I,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ie(D,w){this.g=D,this.h=w}function fe(D,w){if(H(w))throw Error("division by zero");if(H(D))return new ie(T,T);if(K(D))return w=fe(q(D),w),new ie(q(w.g),q(w.h));if(K(w))return w=fe(D,q(w)),new ie(q(w.g),w.h);if(D.g.length>30){if(K(D)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,x=w;x.l(D)<=0;)I=Te(I),x=Te(x);var O=Ae(I,1),N=Ae(x,1);for(x=Ae(x,2),I=Ae(I,2);!H(x);){var R=N.add(x);R.l(D)<=0&&(O=O.add(I),N=R),x=Ae(x,1),I=Ae(I,1)}return w=te(D,O.j(w)),new ie(O,w)}for(O=T;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=g(I),R=N.j(w);K(R)||R.l(D)>0;)I-=x,N=g(I),R=N.j(w);H(N)&&(N=b),O=O.add(N),D=te(D,R)}return new ie(O,D)}r.B=function(D){return fe(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&D.i(x);return new f(I,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|D.i(x);return new f(I,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^D.i(x);return new f(I,this.h^D.h)};function Te(D){const w=D.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=D.i(x)<<1|D.i(x-1)>>>31;return new f(I,D.h)}function Ae(D,w){const I=w>>5;w%=32;const x=D.g.length-I,O=[];for(let N=0;N<x;N++)O[N]=w>0?D.i(N+I)>>>w|D.i(N+I+1)<<32-w:D.i(N+I);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,rs=f}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,zl,X0,ih,qm,J0,Z0,W0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break e;v=v[P]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[P].apply(S,re)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function H(c,y){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const G=P.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=P[re]}else c.push(P)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function te(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ae=!1,D=new ne,w=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){q(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ae=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function De(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(De,O),De.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,S,P){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=P,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let G=0;G<W.length;G++)v=W[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,S,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ie(c,y,S,P);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!S,P),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,y,void 0),G;(G=P>=0)&&Array.prototype.splice.call(S,P,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,S){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,v,S,P){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,S,P);return null}return v=Vo(v),c&&c[Qe]?c.J(y,v,m(S)?!!S.capture:!1,P):gs(c,y,v,!1,S,P)}function gs(c,y,v,S,P,G){if(!y)throw Error("Invalid event type");const re=m(P)?!!P.capture:!!P;let we=ys(c);if(we||(c[Ue]=we=new ue(c)),v=we.add(y,v,S,re,G),v.proxy)return v;if(S=ca(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)N||(P=re),P===void 0&&(P=!1),c.addEventListener(y.toString(),S,P);else if(c.attachEvent)c.attachEvent(si(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ca(){function c(v){return y.call(c.src,c.listener,v)}const y=Oo;return c}function ha(c,y,v,S,P){if(Array.isArray(y))for(var G=0;G<y.length;G++)ha(c,y[G],v,S,P);else S=m(S)?!!S.capture:!!S,v=Vo(v),c&&c[Qe]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ie(y,v,S,P),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ys(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,S,P)),(v=c>-1?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Qe])ve(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(si(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ys(y))?(ve(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function si(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Oo(c,y){if(c.da)c=!0;else{y=new De(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&fa(c),c=v.call(S,y)}return c}function ys(c){return c=c[Ue],c instanceof ue?c:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function _t(){x.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,x),_t.prototype[Qe]=!0,_t.prototype.removeEventListener=function(c,y,v,S){ha(this,c,y,v,S)};function Vt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var P=y;y=new O(S,c),ae(y,P)}P=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],P=_r(G,S,!0,y)&&P;if(G=y.g=c,P=_r(G,S,!0,y)&&P,P=_r(G,S,!1,y)&&P,v)for(re=0;re<v.length;re++)G=y.g=v[re],P=_r(G,S,!1,y)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},_t.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function _r(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const we=re.listener,mt=re.ha||re.src;re.fa&&ve(c.i,re),P=we.call(mt,S)!==!1&&P}}return P&&!S.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function _u(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends x{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){x.call(this),this.h=c,this.g={}}T(_s,x);var xo=[];function Lo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}_s.prototype.N=function(){_s.Z.N.call(this),Lo(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,mf=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}T(jt,O);function wn(){O.call(this,"c")}T(wn,O);var dt={},Au=null;function da(){return Au=Au||new _t}dt.Ia="serverreachability";function Su(c){O.call(this,dt.Ia,c)}T(Su,O);function ai(c){const y=da();Vt(y,new Su(y))}dt.STAT_EVENT="statevent";function vs(c,y){O.call(this,dt.STAT_EVENT,c),this.stat=y}T(vs,O);function vt(c){const y=da();Vt(y,new vs(y,c))}dt.Ja="timingevent";function oi(c,y){O.call(this,dt.Ja,c),this.size=y}T(oi,O);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function pf(c,y,v,S,P,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let He=0;He<we.length;He++){var mt=we[He].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Dn=ot.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(ot+"="+mt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+y+`
`+v+`
`+re})}function bu(c,y,v,S,P,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+y+`
`+v+`
`+G+" "+re})}function ui(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,v)+(S?" "+S:"")})}function Es(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return vr(G)}catch{return y}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function As(){}T(As,Eu),As.prototype.g=function(){return new XMLHttpRequest},Po=new As;function qi(c){return encodeURIComponent(String(c))}function wu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function qn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function ci(c,y,v){c.M=1,c.A=Ss(At(y)),c.u=v,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),hi(c),c.B=At(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),_a(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Hn,c.g=ju(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(xo[0]=P.toString()),P=xo);for(let G=0;G<P.length;G++){const re=at(v,P[G],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qn(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Qn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||mt==7||(mt==8||He<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=yf(this);if(this.o=y==200,bu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var G=S;break t}}G=null}if(c=G)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),Rn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Iu(this,v),ot==kt){we==4&&(this.m=4,vt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(re),re.P=!0,vt(11))}}else ui(this.i,this.l,v,null),di(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?ku(this.j,this):(this.o=!1,hi(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Rn(this)}}}catch{}finally{}};function yf(c){if(!Ru(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const S=y.length,P=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(P&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?kt:(v=Number(y.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>y.length?kt:(y=y.slice(S,S+v),c.C=S+v,y)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),y)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Es(this.i,this.B),this.M!=2&&(ai(),vt(17)),mn(this),this.m=2,Rn(this)):pa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||ku(c.j,c)}function mn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Lo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),Ir(v);else break e;Ns(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Sa(v),!R(y))for(P=v.Ba.g.parse(y),y=0;y<P.length;y++){let He=P[y];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Dn=He[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=He[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Kn=He[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(S=1.5*Kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=c.g;if(Yn){const Os=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var G=S.h;G.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(jo(G,G.h),G.h=null))}if(S.G){const ba=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(S.wa=ba,Ye(S.J,S.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=zu(S,S.L?S.ba:null,S.W),re.L){Bo(S.h,re);var we=re,mt=S.O;mt&&(we.H=mt),we.D&&(fi(we),hi(we)),S.g=re}else xu(S);v.i.length>0&&Ei(v)}else He[0]!="stop"&&He[0]!="close"||Ti(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ti(v,7):Xo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ai(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jo(c,y){c.g?c.g.add(y):c.h=y}function Bo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,G=null;S>=0?(P=c[v].substring(0,S),G=c[v].substring(S+1)):P=c[v],y(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof pn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Ho(this,Mu(c.i)),this.m=c.m):c&&(y=String(c).match(Cu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),Er(this,y[4]),this.h=gi(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}pn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(bs(y,ya,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,ya,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bs(v,v.charAt(0)=="/"?Fo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bs(v,Nu)),c.join("")},pn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Er(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=y.h.lastIndexOf("/");P!=-1&&(S=y.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let re=0;re<P.length;){const we=P[re++];we=="."?S&&re==P.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==P.length&&G.push("")):(G.push(we),S=!0)}S=G.join("/")}else S=P}return v?y.h=S:v=c.i.toString()!=="",v?Ho(y,Mu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new pn(c)}function Pt(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,v){y instanceof Ar?(c.i=y,va(c.i,c.l)):(v||(y=bs(y,Tr)),c.i=new Ar(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ss(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Du=/[#\?:]/g,Fo=/[#\?]/g,Tr=/[#\?@]/g,Nu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,y){an(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ou(c,y){an(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return an(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(y,P,S,this)},this)},this)};function Qo(c,y){an(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return an(this),this.i=null,c=Sr(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Qo(this,c),c.length>0?String(c[0]):y):y};function _a(c,y,v){Ou(c,y),v.length>0&&(c.i=null,c.g.set(Sr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const P=qi(v);v=Qo(this,v);for(let G=0;G<v.length;G++){let re=P;v[G]!==""&&(re+="="+qi(v[G])),c.push(re)}}return this.i=c.join("&")};function Mu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function va(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(Ou(this,S),_a(this,P,v))},c)),c.j=y}function Fn(c,y){const v=new Bn;if(f.Image){const S=new Image;S.onload=E(In,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(In,v,"TestLoadImage: error",!1,y,S),S.onabort=E(In,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ko(c,y){const v=new Bn,S=new AbortController,P=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(P),G.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function br(){this.g=new vu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,Eu),yi.prototype.g=function(){return new ws(this.i,this.h)};function ws(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ws,_t),r=ws.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Gn(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let y="";return je(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Rs(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Cn(v),typeof c=="string"?v!=null&&qi(v):Ye(c,y,v))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,_t);var _i=/^https?$/i,Yo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Is(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,y,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Is(this,G)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,$o(c),Hi(c)}function $o(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},r.Xa=function(){Cs(this)};function Cs(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let re=String(c.D).match(Cu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!_i.test(re?re.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var P=Qn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",$o(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=wu(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[P]||[];y[P]=G,G.push(v)}Ke(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Rr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){vt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=zu(this,null,this.W),Ei(this)};function Xo(c){if(Ta(c),c.I==3){var y=c.V++,v=At(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Ds(c,v),y=new qn(c,c.j,y),y.M=2,y.A=Ss(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}Uu(c)}function Ir(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ta(c){Ir(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||w(),Ae||(Te(),Ae=!0),D.add(y,c),c.D=0}}function Aa(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,y),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Vu(this,P,y),v=At(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ds(this,v),G&&(this.R?y="headers="+qi(Cn(G))+"&"+y:this.u&&Rs(v,this.u,G)),jo(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),P.U=!0,ci(P,v,null)):ci(P,v,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.V++;const S=At(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),Ds(c,S),c.u&&c.o&&Rs(S,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),ci(v,S,y)}function Ds(c,y){c.H&&je(c.H,function(v,S){Ye(y,S,v)}),c.l&&je({},function(v,S){Ye(y,S,v)})}function Vu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var P=c.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=P[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let He=!0;for(let ot=0;ot<v;ot++){var G=P[ot].g;const Dn=P[ot].map;if(G-=we,G<0)we=Math.max(0,P[ot].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Kn]of re){let Yn=Kn;m(Kn)&&(Yn=vr(Kn)),mt.push(G+Ai+"="+encodeURIComponent(Yn))}}catch(Ai){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Dn)}}if(He){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function xu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||w(),Ae||(Te(),Ae=!0),D.add(y,c),c.A=0}}function Ns(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ir(this),Lu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Rs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ss(At(y)),v.u=null,v.R=!0,ma(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ns(this),vt(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,y){var v=null;if(c.g==y){Sa(c),Zo(c),c.g=null;var S=2}else if(pi(c.h,y))v=y.G,Bo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;S=da(),Vt(S,new oi(S,v)),Ei(c)}else xu(c);else if(P=y.m,P==3||P==0&&y.X>0||!(S==1&&Aa(c,y)||S==2&&Ns(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),P){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Pu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const P=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),Ss(S),P?Fn(S.toString(),v):Ko(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),Uu(c),Ta(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function zu(c,y,v){var S=v instanceof pn?At(v):new pn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Er(S,S.u);else{var P=f.location;S=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const G=new pn(null);S&&Pt(G,S),y&&(G.g=y),P&&Er(G,P),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),Ds(c,S),S}function ju(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new yi({ab:v})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){_t.call(this),this.g=new Rr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}T(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Ei(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,tn.Z.N.call(this)};function qu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(qu,jt);function Hu(){wn.call(this),this.status=1}T(Hu,wn);function Gi(c){this.g=c}T(Gi,Bu),Gi.prototype.ra=function(){Vt(this.g,"a")},Gi.prototype.qa=function(c){Vt(this.g,new qu(c))},Gi.prototype.pa=function(c){Vt(this.g,new Hu)},Gi.prototype.oa=function(){Vt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,W0=function(){return new Cr},Z0=function(){return da()},J0=dt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,ih=Ts,ko.COMPLETE="complete",X0=ko,Tu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,zl=Tu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,$0=Je}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",wE="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let bo="12.3.0";const na=new Bh("@firebase/firestore");function eo(){return na.logLevel}function le(r,...e){if(na.logLevel<=xe.DEBUG){const n=e.map(Rp);na.debug(`Firestore (${bo}): ${r}`,...n)}}function mr(r,...e){if(na.logLevel<=xe.ERROR){const n=e.map(Rp);na.error(`Firestore (${bo}): ${r}`,...n)}}function co(r,...e){if(na.logLevel<=xe.WARN){const n=e.map(Rp);na.warn(`Firestore (${bo}): ${r}`,...n)}}function Rp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,eA(r,s,n)}function eA(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||eA(e,o,s)}function be(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class L2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new tA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class P2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new P2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=j2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Hm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Im(o)===Im(u)?Le(o,u):Im(o)?1:-1}return Le(r.length,e.length)}const B2=55296,q2=57343;function Im(r){const e=r.charCodeAt(0);return e>=B2&&e<=q2}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const IE="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class nt extends Ii{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ii{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return H2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new Kt([IE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function nA(r,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function F2(r,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function CE(r){if(!me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function DE(r){if(me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function as(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!iA(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const NE=-62135596800,OE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*OE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function G2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new os(o,me.empty(),e)}function Q2(r){return new os(r.readTime,r.key,Jl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Ee.min(),me.empty(),Jl)}static max(){return new os(Ee.max(),me.empty(),Jl)}}function K2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Y2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function X2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;const Cp=-1;function Qh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function J2(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rA="";function Z2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=ME(e)),e=W2(r.get(n),e);return ME(e)}function W2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rA:n+="";break;default:n+=u}}return n}function ME(r){return r+rA+""}function VE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function sA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Lt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aA("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=eD.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const oA="server_timestamp",lA="__type__",uA="__previous_value__",cA="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[lA]?.stringValue===oA}function Kh(r){const e=r.mapValue.fields[uA];return Dp(e)?Kh(e):e}function Zl(r){const e=ls(r.mapValue.fields[cA].timestampValue);return new st(e.seconds,e.nanos)}class tD{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const vh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const hA="__type__",nD="__max__",Xc={mapValue:{}},fA="__vector__",Eh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:rD(r)?9007199254740991:iD(r)?10:11:ye(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(VE(f)!==VE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Pi(f[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return LE(r.timestampValue,e.timestampValue);case 4:return LE(Zl(r),Zl(e));case 5:return Hm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),p=us(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(yt(u.latitude),yt(f.latitude));return m!==0?m:Le(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return kE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Eh]?.arrayValue,E=p[Eh]?.arrayValue,T=Le(g?.values?.length||0,E?.values?.length||0);return T!==0?T:kE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Hm(p[T],E[T]);if(b!==0)return b;const k=fo(m[p[T]],g[E[T]]);if(k!==0)return k}return Le(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function LE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=ls(r),s=ls(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function kE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function mo(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function rh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,f)=>{o+=u.length+rh(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function PE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Np(r){return!!r&&"arrayValue"in r}function UE(r){return!!r&&"nullValue"in r}function zE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function iD(r){return(r?.mapValue?.fields||{})[hA]?.stringValue===fA}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function rD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nD}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Fl(this.value))}}function dA(r){const e=[];return ms(r.fields,((n,s)=>{const o=new Kt([n]);if(sh(s)){const u=dA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ee.min(),Ee.min(),Ee.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ee.min(),Ee.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ee.min(),Ee.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,n){this.position=e,this.inclusive=n}}function jE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function BE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function sD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class mA{}class Ct extends mA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new oD(e,n,s):n==="array-contains"?new cD(e,s):n==="in"?new hD(e,s):n==="not-in"?new fD(e,s):n==="array-contains-any"?new dD(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lD(e,s):new uD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends mA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return pA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pA(r){return r.op==="and"}function gA(r){return aD(r)&&pA(r)}function aD(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Qm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(gA(r))return r.filters.map((e=>Qm(e))).join(",");{const e=r.filters.map((n=>Qm(n))).join(",");return`${r.op}(${e})`}}function yA(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof ii?(function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&yA(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function _A(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"})(r):"Filter"}class oD extends Ct{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class lD extends Ct{constructor(e,n){super(e,"in",n),this.keys=vA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uD extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=vA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vA(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class cD extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&eu(n.arrayValue,this.value)}}class hD extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class fD extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class dD extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class mD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function qE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new mD(r,e,n,s,o,u,f)}function Op(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Qm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function Mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!BE(r.startAt,e.startAt)&&BE(r.endAt,e.endAt)}function Km(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pD(r,e,n,s,o,u,f,m){return new lu(r,e,n,s,o,u,f,m)}function Vp(r){return new lu(r)}function HE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function EA(r){return r.collectionGroup!==null}function Gl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ah(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Ah(Kt.keyField(),s))}return e.Ie}function Di(r){const e=be(r);return e.Ee||(e.Ee=gD(e,Gl(r))),e.Ee}function gD(r,e){if(r.limitType==="F")return qE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const n=r.endAt?new Th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Th(r.startAt.position,r.startAt.inclusive):null;return qE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ym(r,e){const n=r.filters.concat([e]);return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $m(r,e,n){return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Mp(Di(r),Di(e))&&r.limitType===e.limitType}function TA(r){return`${Op(Di(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_A(o))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=jE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=jE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(r,e)}function yD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AA(r){return(e,n)=>{let s=!1;for(const o of Gl(r)){const u=_D(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _D(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}const vD=new ct(me.comparator);function pr(){return vD}const SA=new ct(me.comparator);function jl(...r){let e=SA;for(const n of r)e=e.insert(n.key,n);return e}function bA(r){let e=SA;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Ql()}function wA(){return Ql()}function Ql(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ED=new ct(me.comparator),TD=new Lt(me.comparator);function ke(...r){let e=TD;for(const n of r)e=e.add(n);return e}const AD=new Lt(Le);function SD(){return AD}function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function RA(r){return{integerValue:""+r}}function bD(r,e){return J2(e)?RA(e):xp(r,e)}class Xh{constructor(){this._=void 0}}function wD(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[lA]:{stringValue:oA},[cA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Kh(u)),u&&(f.fields[uA]=u),{mapValue:f}})(n,e):r instanceof po?CA(r,e):r instanceof go?DA(r,e):(function(o,u){const f=IA(o,u),m=FE(f)+FE(o.Ae);return Gm(f)&&Gm(o.Ae)?RA(m):xp(o.serializer,m)})(r,e)}function RD(r,e,n){return r instanceof po?CA(r,e):r instanceof go?DA(r,e):n}function IA(r,e){return r instanceof bh?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends Xh{}class po extends Xh{constructor(e){super(),this.elements=e}}function CA(r,e){const n=NA(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class go extends Xh{constructor(e){super(),this.elements=e}}function DA(r,e){let n=NA(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class bh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FE(r){return yt(r.integerValue||r.doubleValue)}function NA(r){return Np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class OA{constructor(e,n){this.field=e,this.transform=n}}function ID(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof po&&o instanceof po||s instanceof go&&o instanceof go?ho(s.elements,o.elements,Pi):s instanceof bh&&o instanceof bh?Pi(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class CD{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jh{}function MA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xA(r.key,Ni.none()):new uu(r.key,r.data,Ni.none());{const n=r.data,s=dn.empty();let o=new Lt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(r.key,s,new Sn(o.toArray()),Ni.none())}}function DD(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),p=QE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ps?(function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=QE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(VA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,s){return r instanceof uu?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=u.value.clone(),E=KE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ps?(function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=KE(u.fieldTransforms,p,f),E=f.data;return E.setAll(VA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function ND(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=IA(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function GE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>ID(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function VA(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function QE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,RD(f,m,n[o]))}return s}function KE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,wD(u,f,e))}return s}class xA extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OD extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wA();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=MA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>GE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>GE(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ED})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}class VD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xD{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function LD(r){switch(r){case Z.OK:return ye(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function LA(r){if(r===void 0)return mr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return ye(39323,{code:r})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function kD(){return new TextEncoder}const PD=new rs([4294967295,4294967295],0);function YE(r){const e=kD().encode(r),n=new Y0;return n.update(e),new Uint8Array(n.digest())}function $E(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(PD)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YE(e),[s,o]=$E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=YE(e),[s,o]=$E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ee.min(),o,new ct(Le),pr(),ke())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,ke(),ke(),ke())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class kA{constructor(e,n){this.targetId=e,this.Ce=n}}class PA{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class XE{constructor(){this.ve=0,this.Fe=JE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=JE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UD{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ct(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(s===0){const f=new me(u.path);this.et(n,f,Zt.newNoDocument(f,Ee.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof aA)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return co(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Km(m.target)){const p=new me(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=pr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ct(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ct(me.comparator)}function JE(){return new ct(me.comparator)}const zD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BD={and:"AND",or:"OR"};class qD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function HD(r,e){return wh(r,e.toTimestamp())}function Oi(r){return Ge(!!r,49232),Ee.fromTimestamp((function(n){const s=ls(n);return new st(s.seconds,s.nanos)})(r))}function Pp(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function zA(r){const e=nt.fromString(r);return Ge(FA(e),10190,{key:e.toString()}),e}function Zm(r,e){return Pp(r.databaseId,e.path)}function Cm(r,e){const n=zA(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(BA(n))}function jA(r,e){return Pp(r.databaseId,e)}function FD(r){const e=zA(r);return e.length===4?nt.emptyPath():BA(e)}function Wm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BA(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ZE(r,e,n){return{name:Zm(r,e),fields:n.value.mapValue.fields}}function GD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?Z.UNKNOWN:LA(g.code);return new oe(E,g.message||"")})(f);n=new PA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Ee.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?Oi(s.readTime):Ee.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xD(o,u),m=s.targetId;n=new kA(m,f)}}return n}function QD(r,e){let n;if(e instanceof uu)n={update:ZE(r,e.key,e.value)};else if(e instanceof xA)n={delete:Zm(r,e.key)};else if(e instanceof ps)n={update:ZE(r,e.key,e.data),updateMask:tN(e.fieldMask)};else{if(!(e instanceof OD))return ye(16599,{Vt:e.type});n={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof po)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof go)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:HD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function KD(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Ee.min())&&(f=Oi(u)),new CD(f,o.transformResults||[])})(n,e)))):[]}function YD(r,e){return{documents:[jA(r,e.path)]}}function $D(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jA(r,o);const u=(function(g){if(g.length!==0)return HA(ii.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:no(b.field),direction:ZD(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function XD(r){let e=FD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=qA(T);return b instanceof ii&&gA(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(H){return new Ah(io(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Qh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,k=T.values||[];return new Th(k,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,k=T.values||[];return new Th(k,b)})(n.endAt)),pD(e,o,f,u,m,"F",p,g)}function JD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>qA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function ZD(r){return zD[r]}function WD(r){return jD[r]}function eN(r){return BD[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return Kt.fromServerFormat(r.fieldPath)}function HA(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(UE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(UE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:WD(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((o=>HA(o)));return s.length===1?s[0]:{compositeFilter:{op:eN(n.op),filters:s}}})(r):ye(54877,{filter:r})}function tN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ts{constructor(e,n,s,o,u=Ee.min(),f=Ee.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nN{constructor(e){this.yt=e}}function iN(r){const e=XD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$m(e,e.limit,"L"):e}class rN{constructor(){this.Cn=new sN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(os.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class sN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GA=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(GA,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const eT="LruGarbageCollector",aN=1048576;function tT([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class oN{constructor(e){this.Ir=e,this.buffer=new Lt(tT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(eT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?le(eT,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class uN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Gh.ce);const s=new oN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(WE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),eo()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function cN(r,e){return new uN(r,e)}class hN{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,Sn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=$s();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=pr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ps)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),st.now())):f.set(g.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new fN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=wA();E.forEach((b=>{if(!u.has(b)){const k=MA(n.get(b),s.get(b));k!==null&&T.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve($s());let m=Jl,p=u;return f.next((g=>ee.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:bA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,b){return new lu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=jl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,Sn.empty(),st.now()),$h(n,g)&&(m=m.insert(p,g))})),m}))}}class mN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:iN(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ee.resolve()}}class pN{constructor(){this.overlays=new ct(me.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new VD(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class gN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Up{constructor(){this.Qr=new Lt(zt.$r),this.Ur=new Lt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class yN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(zt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Le);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new zt(new me(u),0);let m=new Lt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _N{constructor(e){this.ri=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||K2(Q2(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vN(this)}getSize(e){return ee.resolve(this.size)}}class vN extends hN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EN{constructor(e){this.persistence=e,this.si=new oa((n=>Op(n)),Mp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class QA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new gN,this.referenceDelegate=e(this),this.Pi=new EN(this),this.indexManager=new rN,this.remoteDocumentCache=(function(o){return new _N(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nN(n),this.Ii=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new TN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class TN extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new oa((s=>Z2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cN(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GR()?8:X2(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new AN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(eo()<=xe.DEBUG&&le("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ee.resolve())}ys(e,n){if(HE(n))return ee.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,$m(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return HE(n)||o.isEqual(Ee.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(eo()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,G2(o,Jl)).next((m=>m)))}))}Ds(e,n){let s=new Lt(AA(e));return n.forEach(((o,u)=>{$h(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Bp="LocalStore",bN=3e8;class wN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Le),this.xs=new oa((u=>Op(u)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RN(r,e,n,s){return new wN(r,e,n,s)}async function KA(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function IN(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let k=ee.resolve();return b.forEach((H=>{k=k.next((()=>E.getEntry(p,H))).next((K=>{const q=g.docVersions.get(H);Ge(q!==null,48541),K.version.compareTo(q)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function YA(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CN(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(K,q,te){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=bN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(b,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=pr(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(DN(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ee.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function DN(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=pr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function NN(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ON(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ep(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;le(Bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function nT(r,e,n){const s=be(r);let o=Ee.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=be(p),b=T.xs.get(E);return b!==void 0?ee.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,E)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:ke()))).next((m=>(MN(s,yD(e),m),{documents:m,Qs:u})))))}function MN(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class iT{constructor(){this.activeTargetIds=SD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.Mo=new iT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xN{Oo(e){}shutdown(){}}const rT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function tp(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const Dm="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=tp(),m=this.zo(e,n.toUriEncodedString());le(Dm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ao(g);return this.Jo(e,m,p,s,E).then((T=>(le(Dm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw co(Dm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=LN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class PN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class UN extends kN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=tp();return new Promise(((m,p)=>{const g=new $0;g.setWithCredentials(!0),g.listenOnce(X0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ih.NO_ERROR:const T=g.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case ih.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const b=g.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const K=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(H.status);p(new oe(K,H.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=W0(),m=Z0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,k=!1;const H=new PN({Yo:q=>{k?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(b||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),K=(q,te,ne)=>{q.listen(te,(ie=>{try{ne(ie)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return K(T,zl.EventType.OPEN,(()=>{k||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),K(T,zl.EventType.CLOSE,(()=>{k||(k=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),K(T,zl.EventType.ERROR,(q=>{k||(k=!0,co(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),H.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),K(T,zl.EventType.MESSAGE,(q=>{if(!k){const te=q.data[0];Ge(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){le(Xt,`RPC '${e}' stream ${o} received error:`,ie);const fe=ie.status;let Te=(function(w){const I=It[w];if(I!==void 0)return LA(I)})(fe),Ae=ie.message;Te===void 0&&(Te=Z.INTERNAL,Ae="Unknown error status: "+fe+" with message "+ie.message),k=!0,H.a_(new oe(Te,Ae)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,te),H.u_(te)}})),K(m,J0.STAT_EVENT,(q=>{q.stat===qm.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===qm.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}function Wh(r){return new qD(r,!0)}class $A{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aT="PersistentStream";class XA{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $A(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(aT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(aT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zN extends XA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?Oi(f.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:YD(u,p)}:{query:$D(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UA(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=JD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class jN extends XA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KD(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>QD(this.serializer,s)))};this.q_(n)}}class BN{}class qN extends BN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Jm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Jm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class FN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{la(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(p){const g=be(p);g.Ea.add(4),await hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new HN(s,o)}}async function ef(r){if(la(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function JA(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gp(n)?Fp(n):Io(n).O_()&&Hp(n,e))}function qp(r,e){const n=be(r),s=Io(n);n.Ia.delete(e),s.O_()&&ZA(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function Hp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function ZA(r,e){r.Va.Ue(e),Io(r).Z_(e)}function Fp(r){r.Va=new UD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function Gp(r){return la(r)&&!Io(r).x_()&&r.Ia.size>0}function la(r){return be(r).Ea.size===0}function WA(r){r.Va=void 0}async function GN(r){r.Ra.set("Online")}async function QN(r){r.Ia.forEach(((e,n)=>{Hp(r,e)}))}async function KN(r,e){WA(r),Gp(r)?(r.Ra.ha(e),Fp(r)):r.Ra.set("Unknown")}async function YN(r,e,n){if(r.Ra.set("Online"),e instanceof PA&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof kA?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await YA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),ZA(u,p);const T=new ts(E.target,p,g,E.sequenceNumber);Hp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ia,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>YA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function eS(r,e){return e().catch((n=>Ih(r,n,e)))}async function tf(r){const e=be(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;$N(e);)try{const o=await NN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XN(e,o)}catch(o){await Ih(e,o)}tS(e)&&nS(e)}function $N(r){return la(r)&&r.Ta.length<10}function XN(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function tS(r){return la(r)&&!hs(r).x_()&&r.Ta.length>0}function nS(r){hs(r).start()}async function JN(r){hs(r).ra()}async function ZN(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function WN(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await eS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function eO(r,e){e&&hs(r).X_&&await(async function(s,o){if((function(f){return LD(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await eS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),tS(r)&&nS(r)}async function oT(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function tO(r,e){const n=be(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new zN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:GN.bind(null,r),t_:QN.bind(null,r),r_:KN.bind(null,r),H_:YN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gp(r)?Fp(r):r.Ra.set("Unknown")):(await r.ma.stop(),WA(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new jN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JN.bind(null,r),r_:eO.bind(null,r),ta:ZN.bind(null,r),na:WN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(mr("AsyncQueue",`${e}: ${r}`),Ro(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class lT{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iO{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=uT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function uT(){return new oa((r=>TA(r)),Yh)}async function iS(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new nO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Yp(n)}async function rS(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rO(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Yp(n)}function sO(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Yp(r){r.Ca.forEach((e=>{e.next()}))}var np,cT;(cT=np||(np={})).Ma="default",cT.Cache="cache";class sS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}class aS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=AA(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new lT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),k=$h(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;b&&k?b.data.isEqual(k.data)?H!==K&&(s.track({type:3,doc:k}),q=!0):this.su(b,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),q=!0):b&&!k&&(s.track({type:1,doc:b}),q=!0,(p||g)&&(m=!0)),q&&(k?(f=f.add(k),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,H){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:q})}};return K(k)-K(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new oS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new aS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class oO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class uO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>TA(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(me.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(r,e,n=!0){const s=dS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lS(s,e,n,!0),o}async function hO(r,e){const n=dS(r);await lS(n,e,!0,!1)}async function lS(r,e,n,s){const o=await ON(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await fO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&JA(r.remoteStore,o),m}async function fO(r,e,n,s,o){r.pu=(T,b,k)=>(async function(K,q,te,ne){let ie=q.view.ru(te);ie.Cs&&(ie=await nT(K.localStore,q.query,!1).then((({documents:D})=>q.view.ru(D,ie))));const fe=ne&&ne.targetChanges.get(q.targetId),Te=ne&&ne.targetMismatches.get(q.targetId)!=null,Ae=q.view.applyChanges(ie,K.isPrimaryClient,fe,Te);return fT(K,q.targetId,Ae.au),Ae.snapshot})(r,T,b,k);const u=await nT(r.localStore,e,!0),f=new aO(e,u.Qs),m=f.ru(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);fT(r,n,g.au);const E=new oO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function dO(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qp(s.remoteStore,o.targetId),ip(s,o.targetId)})).catch(wo)):(ip(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function mO(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qp(n.remoteStore,s.targetId))}async function pO(r,e,n){const s=AO(r);try{const o=await(function(f,m){const p=be(f),g=st.now(),E=m.reduce(((k,H)=>k.add(H.key)),ke());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=pr(),K=ke();return p.Ns.getEntries(k,E).next((q=>{H=q,H.forEach(((te,ne)=>{ne.isValidDocument()||(K=K.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,H))).next((q=>{T=q;const te=[];for(const ne of m){const ie=ND(ne,T.get(ne.key).overlayedDocument);ie!=null&&te.push(new ps(ne.key,ie,dA(ie.value.mapValue),Ni.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,te,m)})).next((q=>{b=q;const te=q.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(k,q.batchId,te)}))})).then((()=>({batchId:b.batchId,changes:bA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(Le)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await fu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function uS(r,e){const n=be(r);try{const s=await CN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await wo(s)}}function hT(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&Yp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(me.comparator);f=f.insert(u,Zt.newNoDocument(u,Ee.min()));const m=ke().add(u),p=new Zh(Ee.min(),new Map,new ct(Le),f,m);await uS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Xp(s)}else await ep(s.localStore,e,!1).then((()=>ip(s,e,n))).catch(wo)}async function yO(r,e){const n=be(r),s=e.batch.batchId;try{const o=await IN(n.localStore,e);hS(n,s,null),cS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await wo(o)}}async function _O(r,e,n){const s=be(r);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);hS(s,e,n),cS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await wo(o)}}function cS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function hS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ip(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||fS(r,s)}))}function fS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(qp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Xp(r))}function fT(r,e,n){for(const s of n)s instanceof aS?(r.Ru.addReference(s.key,e),vO(r,s)):s instanceof oS?(le($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||fS(r,s.key)):ye(19791,{wu:s})}function vO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le($p,"New document in limbo: "+n),r.Eu.add(s),Xp(r))}function Xp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new lO(n)),r.du=r.du.insert(n,s),JA(r.remoteStore,new ts(Di(Vp(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function fu(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=jp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(b=>ee.forEach(b.Es,(k=>E.persistence.referenceDelegate.addReference(T,b.targetId,k))).next((()=>ee.forEach(b.ds,(k=>E.persistence.referenceDelegate.removeReference(T,b.targetId,k)))))))))}catch(T){if(!Ro(T))throw T;le(Bp,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const k=E.Ms.get(b),H=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(b,K)}}})(s.localStore,u))}async function EO(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le($p,"User change. New user:",e.toKey());const s=await KA(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function TO(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function dS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.H_=rO.bind(null,e.eventManager),e.Pu.yu=sO.bind(null,e.eventManager),e}function AO(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RN(this.persistence,new SN,e.initialUser,this.serializer)}Cu(e){return new QA(zp.mi,this.serializer)}Du(e){return new VN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class SO extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new QA((s=>Rh.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await tO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iO})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),s=(function(u){return new UN(u)})(e.databaseInfo);return(function(u,f,m,p){return new qN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new FN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>hT(this.syncEngine,n,0)),(function(){return sT.v()?new sT:new xN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new uO(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);le(ia,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class mS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class bO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),le(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await KA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function dT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wO(r);le(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>oT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>oT(e.remoteStore,o))),r._onlineComponents=e}async function wO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(fs,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Om(r,new Ch)}}else le(fs,"Using default OfflineComponentProvider"),await Om(r,new SO(void 0));return r._offlineComponents}async function pS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(fs,"Using user provided OnlineComponentProvider"),await dT(r,r._uninitializedComponentsProvider._online)):(le(fs,"Using default OnlineComponentProvider"),await dT(r,new rp))),r._onlineComponents}function RO(r){return pS(r).then((e=>e.syncEngine))}async function gS(r){const e=await pS(r),n=e.eventManager;return n.onListen=cO.bind(null,e.syncEngine),n.onUnlisten=dO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function IO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new mS({next:b=>{E.Nu(),f.enqueueAndForget((()=>rS(u,T)));const k=b.docs.has(m);!k&&b.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&p&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new sS(Vp(m.path),E,{includeMetadataChanges:!0,qa:!0});return iS(u,T)})(await gS(r),r.asyncQueue,e,n,s))),s.promise}function CO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new mS({next:b=>{E.Nu(),f.enqueueAndForget((()=>rS(u,T))),b.fromCache&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new sS(m,E,{includeMetadataChanges:!0,qa:!0});return iS(u,T)})(await gS(r),r.asyncQueue,e,n,s))),s.promise}function yS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const mT=new Map;const _S="firestore.googleapis.com",pT=!0;class gT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=pT}else this.host=e.host,this.ssl=e.ssl??pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aN)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new x2;switch(s.type){case"firstParty":return new U2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=mT.get(n);s&&(le("ComponentProvider","Removing Datastore"),mT.delete(n),s.terminate())})(this),Promise.resolve()}}function DO(r,e,n,s={}){r=as(r,nf);const o=Ao(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(g0(`https://${m}`),y0("Firestore",!0)),u.host!==_S&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Li(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=PR(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new L2(new tA(g,E))}}class Co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,Nt._jsonSchema))return new Nt(e,s||null,new me(nt.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Dt("string",Nt._jsonSchemaVersion),referencePath:Dt("string")};class ss extends Co{constructor(e,n,s){super(e,n,Vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new me(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function rf(r,e,...n){if(r=Ot(r),nA("collection","path",e),r instanceof nf){const s=nt.fromString(e,...n);return DE(s),new ss(r,null,s)}{if(!(r instanceof Nt||r instanceof ss))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return DE(s),new ss(r.firestore,null,s)}}function Do(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=Ip.newId()),nA("doc","path",e),r instanceof nf){const s=nt.fromString(e,...n);return CE(s),new Nt(r,null,new me(s))}{if(!(r instanceof Nt||r instanceof ss))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return CE(s),new Nt(r.firestore,r instanceof ss?r.converter:null,new me(s))}}const yT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $A(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&le(yT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;le(yT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",vT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:vT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class du extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new _T,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function NO(r,e){const n=typeof r=="object"?r:vp(),s=typeof r=="string"?r:vh,o=aa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=LR("firestore");u&&DO(o,...u)}return o}function Jp(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OO(r),r._firestoreClient}function OO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new tD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Dt("string",Un._jsonSchemaVersion),bytes:Dt("string")};class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),vectorValues:Dt("object")};const MO=/^__.*__$/;class VO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class vS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ES(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class af{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new af({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ES(this.Ac)&&MO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wh(e)}Cc(e,n,s,o=!1){return new af({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(r){const e=r._freezeSettings(),n=Wh(r._databaseId);return new xO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function LO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);tg("Data must be an object, but it was:",f,s);const m=AS(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=sp(e,T,n);if(!f.contains(b))throw new oe(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bS(E,b)||E.push(b)}p=new Sn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new VO(new dn(m),p,g)}class of extends mu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function TS(r,e,n){return new af({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wp extends mu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=TS(this,e,!0),s=this.vc.map((u=>ua(u,n))),o=new po(s);return new OA(e.path,o)}isEqual(e){return e instanceof Wp&&Li(this.vc,e.vc)}}class eg extends mu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=TS(this,e,!0),s=this.vc.map((u=>ua(u,n))),o=new go(s);return new OA(e.path,o)}isEqual(e){return e instanceof eg&&Li(this.vc,e.vc)}}function kO(r,e,n,s){const o=r.Cc(1,e,n);tg("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ms(s,((p,g)=>{const E=ng(e,p,n);g=Ot(g);const T=o.yc(E);if(g instanceof of)u.push(E);else{const b=ua(g,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Sn(u);return new vS(f,m,o.fieldTransforms)}function PO(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[sp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(sp(e,u[b])),p.push(u[b+1]);const g=[],E=dn.empty();for(let b=m.length-1;b>=0;--b)if(!bS(g,m[b])){const k=m[b];let H=p[b];H=Ot(H);const K=f.yc(k);if(H instanceof of)g.push(k);else{const q=ua(H,K);q!=null&&(g.push(k),E.set(k,q))}}const T=new Sn(g);return new vS(E,T,f.fieldTransforms)}function UO(r,e,n,s=!1){return ua(n,r.Cc(s?4:3,e))}function ua(r,e){if(SS(r=Ot(r)))return tg("Unsupported field value:",e,r),AS(r,e);if(r instanceof mu)return(function(s,o){if(!ES(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=ua(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:UA(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[hA]:{stringValue:fA},[Eh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return xp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(r,e)}function AS(r,e){const n={};return sA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,o)=>{const u=ua(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function SS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Mi||r instanceof Un||r instanceof Nt||r instanceof mu||r instanceof Vi)}function tg(r,e,n){if(!SS(n)||!iA(n)){const s=Fh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sp(r,e,n){if((e=Ot(e))instanceof sf)return e._internalPath;if(typeof e=="string")return ng(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const zO=new RegExp("[~\\*/\\[\\]]");function ng(r,e,n){if(e.search(zO)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,m+r+p)}function bS(r,e){return r.some((n=>n.isEqual(e)))}class wS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jO extends wS{data(){return super.data()}}function ig(r,e){return typeof e=="string"?ng(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}function BO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class qO extends rg{}function ET(r,e,...n){let s=[];e instanceof rg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof sg)).length,m=u.filter((p=>p instanceof lf)).length;if(f>1||f>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lf extends qO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return RS(e._query,n),new Co(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=Zp(e.firestore);return(function(u,f,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ST(T,E);const H=[];for(const K of T)H.push(AT(p,u,K));b={arrayValue:{values:H}}}else b=AT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ST(T,E),b=UO(m,f,T,E==="in"||E==="not-in");return Ct.create(g,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function TT(r,e,n){const s=e,o=ig("where",r);return lf._create(o,s,n)}class sg extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)RS(f,p),f=Ym(f,p)})(e._query,n),new Co(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AT(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return PE(r,new me(s))}if(n instanceof Nt)return PE(r,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function ST(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HO{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(FA(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function FO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends wS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Dt("string",Zs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class lh extends Zs{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function QO(r){r=as(r,Nt);const e=as(r.firestore,du);return IO(Jp(e),r._key).then((n=>KO(e,r,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Dt("string",ao._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class IS extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function ap(r){r=as(r,Co);const e=as(r.firestore,du),n=Jp(e),s=new IS(e);return BO(r._query),CO(n,r._query).then((o=>new ao(e,s,r,o)))}function uf(r,e,n,...s){r=as(r,Nt);const o=as(r.firestore,du),u=Zp(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof sf?PO(u,"updateDoc",r._key,e,n,s):kO(u,"updateDoc",r._key,e),DS(o,[f.toMutation(r._key,Ni.exists(!0))])}function CS(r,e){const n=as(r.firestore,du),s=Do(r),o=FO(r.converter,e);return DS(n,[LO(Zp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then((()=>s))}function DS(r,e){return(function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>pO(await RO(s),o,u))),u.promise})(Jp(r),e)}function KO(r,e,n){const s=n.docs.get(e._key),o=new IS(r);return new Zs(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}function YO(...r){return new Wp("arrayUnion",r)}function $O(...r){return new eg("arrayRemove",r)}(function(e,n=!0){(function(o){bo=o})(So),ki(new ni("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new du(new k2(s.getProvider("auth-internal")),new z2(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zn(bE,wE,e),zn(bE,wE,"esm2020")})();function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XO=NS,OS=new sa("auth","Firebase",NS());const Nh=new Bh("@firebase/auth");function JO(r,...e){Nh.logLevel<=xe.WARN&&Nh.warn(`Auth (${So}): ${r}`,...e)}function uh(r,...e){Nh.logLevel<=xe.ERROR&&Nh.error(`Auth (${So}): ${r}`,...e)}function Ui(r,...e){throw og(r,...e)}function ei(r,...e){return og(r,...e)}function ag(r,e,n){const s={...XO(),[e]:n};return new sa("auth","Firebase",s).create(e,{appName:r.name})}function Ws(r){return ag(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZO(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(r,"argument-error"),ag(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return OS.create(r,...e)}function _e(r,e,...n){if(!r)throw og(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function gr(r,e){r||lr(e)}function op(){return typeof self<"u"&&self.location?.href||""}function WO(){return bT()==="http:"||bT()==="https:"}function bT(){return typeof self<"u"&&self.location?.protocol||null}function eM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WO()||_0()||"connection"in navigator)?navigator.onLine:!0}function tM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||HR()}get(){return eM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lg(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rM=new pu(3e4,6e4);function ug(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function No(r,e,n,s,o={}){return VS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return qR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(g.credentials="include"),MS.fetch()(await xS(r,r.config.apiHost,n,m),g)})}async function VS(r,e,n){r._canInitEmulator=!1;const s={...nM,...e};try{const o=new aM(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ag(r,E,g);Ui(r,E)}}catch(o){if(o instanceof ri)throw o;Ui(r,"network-request-failed",{message:String(o)})}}async function sM(r,e,n,s,o={}){const u=await No(r,e,n,s,o);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return iM.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class aM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),rM.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ei(r,e,s);return o.customData._tokenResponse=n,o}async function oM(r,e){return No(r,"POST","/v1/accounts:delete",e)}async function Oh(r,e){return No(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lM(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),o=cg(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(Mm(o.auth_time)),issuedAtTime:Yl(Mm(o.iat)),expirationTime:Yl(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(r){return Number(r)*1e3}function cg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wT(r){const e=cg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ri&&uM(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Oh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?LS(o.providerUserInfo):[],f=fM(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function hM(r){const e=Ot(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fM(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dM(r,e){const n=await VS(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await xS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(p.credentials="include"),MS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mM(r,e){return No(r,"POST","/v2/accounts:revokeToken",ug(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=wT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dM(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Jr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lM(this,e)}reload(){return hM(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await tu(this,oM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:k,providerData:H,stsTokenManager:K}=n;_e(T&&K,e,"internal-error");const q=oo.fromJSON(this.name,K);_e(typeof T=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),_e(typeof b=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(g,e.name),Jr(E,e.name);const te=new Wn({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(te.providerData=H.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const RT=new Map;function ur(r){gr(r instanceof Function,"Expected a class definition");let e=RT.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,RT.set(r,e),e)}class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kS.type="NONE";const IT=kS;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(ur(IT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(IT);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await Oh(e,{idToken:E}).catch(()=>{});if(!b)break;T=await Wn._fromGetAccountInfoResponse(e,b,E)}else T=Wn._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,e,s))}}function CT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(HS(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function PS(r=Wt()){return/firefox\//i.test(r)}function US(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(r=Wt()){return/crios\//i.test(r)}function jS(r=Wt()){return/iemobile/i.test(r)}function BS(r=Wt()){return/android/i.test(r)}function qS(r=Wt()){return/blackberry/i.test(r)}function HS(r=Wt()){return/webos/i.test(r)}function hg(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pM(r=Wt()){return hg(r)&&!!window.navigator?.standalone}function gM(){return FR()&&document.documentMode===10}function FS(r=Wt()){return hg(r)||BS(r)||HS(r)||qS(r)||/windows phone/i.test(r)||jS(r)}function GS(r,e=[]){let n;switch(r){case"Browser":n=CT(Wt());break;case"Worker":n=`${CT(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class yM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function _M(r,e={}){return No(r,"GET","/v2/passwordPolicy",ug(r,e))}const vM=6;class EM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class TM{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DT(this),this.idTokenSubscription=new DT(this),this.beforeStateQueue=new yM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ws(this));const n=e?Ot(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _M(this),n=new EM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cf(r){return Ot(r)}class DT{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AM(r){fg=r}function SM(r){return fg.loadJS(r)}function bM(){return fg.gapiScript}function wM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function RM(r,e){const n=aa(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Li(u,e??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:e})}function IM(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function CM(r,e,n){const s=cf(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QS(e),{host:f,port:m}=DM(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Li(g,s.config.emulator)&&Li(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ao(f)?(g0(`${u}//${f}${p}`),y0("Auth",!0)):NM()}function QS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DM(r){const e=QS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:NT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:NT(f)}}}function NT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function NM(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class KS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function uo(r,e){return sM(r,"POST","/v1/accounts:signInWithIdp",ug(r,e))}const OM="http://localhost";class ra extends KS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:OM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}class dg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends dg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends gu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class or extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class Wr extends gu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class es extends gu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),f=OT(s);return new vo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=OT(s);return new vo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function OT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Vh extends ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function YS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(r,u,e,s):u})}async function MM(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return vo._forOperation(r,"link",s)}async function VM(r,e,n=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(Ws(s));const o="reauthenticate";try{const u=await tu(r,YS(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=cg(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),vo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}async function xM(r,e,n=!1){if(Zn(r.app))return Promise.reject(Ws(r));const s="signIn",o=await YS(r,s,e),u=await vo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function LM(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function kM(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function $S(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function PM(r){return Ot(r).signOut()}const xh="__sak";class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UM=1e3,zM=10;class JS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zM):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const jM=JS;class ZS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZS.type="SESSION";const WS=ZS;function BM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await BM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];function mg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=mg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function xi(){return window}function HM(r){xi().location.href=r}function eb(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function FM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){return navigator?.serviceWorker?.controller||null}function QM(){return eb()?self:null}const tb="firebaseLocalStorageDb",KM=1,Lh="firebaseLocalStorage",nb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(r,e){return r.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function YM(){const r=indexedDB.deleteDatabase(tb);return new yu(r).toPromise()}function up(){const r=indexedDB.open(tb,KM);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lh,{keyPath:nb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await YM(),e(await up()))})})}async function MT(r,e,n){const s=ff(r,!0).put({[nb]:e,value:n});return new yu(s).toPromise()}async function $M(r,e){const n=ff(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function VT(r,e){const n=ff(r,!0).delete(e);return new yu(n).toPromise()}const XM=800,JM=3;class ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(QM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await MT(e,xh,"1"),await VT(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>MT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$M(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ib.type="LOCAL";const ZM=ib;new pu(3e4,6e4);function rb(r,e){return e?ur(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pg extends KS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WM(r){return xM(r.auth,new pg(r),r.bypassAuthState)}function eV(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),VM(n,new pg(r),r.bypassAuthState)}async function tV(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),MM(n,new pg(r),r.bypassAuthState)}class sb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WM;case"linkViaPopup":case"linkViaRedirect":return tV;case"reauthViaPopup":case"reauthViaRedirect":return eV;default:Ui(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nV=new pu(2e3,1e4);async function iV(r,e,n){if(Zn(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=cf(r);ZO(r,e,dg);const o=rb(s,n);return new Xs(s,"signInViaPopup",e,o).executeNotNull()}class Xs extends sb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nV.get())};e()}}Xs.currentPopupAction=null;const rV="pendingRedirect",hh=new Map;class sV extends sb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await aV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aV(r,e){const n=uV(e),s=lV(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oV(r,e){hh.set(r._key(),e)}function lV(r){return ur(r._redirectPersistence)}function uV(r){return ch(rV,r.config.apiKey,r.name)}async function cV(r,e,n=!1){if(Zn(r.app))return Promise.reject(Ws(r));const s=cf(r),o=rb(s,e),f=await new sV(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const hV=600*1e3;class fV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ab(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ab({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ab(r);default:return!1}}async function mV(r,e={}){return No(r,"GET","/v1/projects",e)}const pV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;async function yV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mV(r);for(const n of e)try{if(_V(n))return}catch{}Ui(r,"unauthorized-domain")}function _V(r){const e=op(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gV.test(n))return!1;if(pV.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const vV=new pu(3e4,6e4);function LT(){const r=xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EV(r){return new Promise((e,n)=>{function s(){LT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LT(),n(ei(r,"network-request-failed"))},timeout:vV.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)s();else{const o=wM("iframefcb");return xi()[o]=()=>{gapi.load?s():n(ei(r,"network-request-failed"))},SM(`${bM()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function TV(r){return fh=fh||EV(r),fh}const AV=new pu(5e3,15e3),SV="__/auth/iframe",bV="emulator/auth/iframe",wV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IV(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,bV):`https://${r.config.authDomain}/${SV}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=RV.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function CV(r){const e=await TV(r),n=xi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:IV(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wV,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ei(r,"network-request-failed"),m=xi().setTimeout(()=>{u(f)},AV.get());function p(){xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const DV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NV=500,OV=600,MV="_blank",VV="http://localhost";class kT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xV(r,e,n,s=NV,o=OV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...DV,width:s.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=zS(g)?MV:n),PS(g)&&(e=e||VV,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[k,H])=>`${b}${k}=${H},`,"");if(pM(g)&&m!=="_self")return LV(e||"",m),new kT(null);const T=window.open(e||"",m,E);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new kT(T)}function LV(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const kV="__/auth/handler",PV="emulator/auth/handler",UV=encodeURIComponent("fac");async function PT(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof dg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",XR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof gu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${UV}=${encodeURIComponent(p)}`:"";return`${zV(r)}?${au(m).slice(1)}${g}`}function zV({config:r}){return r.emulator?lg(r,PV):`https://${r.authDomain}/${kV}`}const Vm="webStorageSupport";class jV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=cV,this._overrideRedirectResult=oV}async _openPopup(e,n,s,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await PT(e,n,s,op(),o);return xV(e,u,mg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await PT(e,n,s,op(),o);return HM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CV(e),s=new fV(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const u=o?.[0]?.[Vm];u!==void 0&&n(!!u),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||US()||hg()}}const BV=jV;var UT="@firebase/auth",zT="1.11.1";class qV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FV(r){ki(new ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GS(r)},g=new TM(s,o,u,p);return IM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ki(new ni("auth-internal",e=>{const n=cf(e.getProvider("auth").getImmediate());return(s=>new qV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(UT,zT,HV(r)),zn(UT,zT,"esm2020")}const GV=300,QV=p0("authIdTokenMaxAge")||GV;let jT=null;const KV=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QV)return;const o=n?.token;jT!==o&&(jT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YV(r=vp()){const e=aa(r,"auth");if(e.isInitialized())return e.getImmediate();const n=RM(r,{popupRedirectResolver:BV,persistence:[ZM,jM,WS]}),s=p0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KV(u.toString());kM(n,f,()=>f(n.currentUser)),LM(n,m=>f(m))}}const o=d0("auth");return o&&CM(n,`http://${o}`),n}function $V(){return document.getElementsByTagName("head")?.[0]??document}AM({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$V().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FV("Browser");const gg=b0({apiKey:"AIzaSyAHDkV0budo9w1cckgeD190KXuIHBhICQ8",authDomain:"khata-book-b02a6.firebaseapp.com",projectId:"khata-book-b02a6",storageBucket:"khata-book-b02a6.firebasestorage.app",messagingSenderId:"261072958924",appId:"1:261072958924:web:2c9ce4809c63049f641969",measurementId:"G-T3BPFN7X4R"}),Ci=YV(gg),XV=new or;D2(gg);const yr=NO(gg),JV=()=>{const r=ru(),e=async()=>{try{await iV(Ci,XV),r("/reports")}catch(n){console.error("Google Login Error:",n),alert("Google    ,    ")}};return B.useEffect(()=>{const n=$S(Ci,s=>{s&&r("/reports",{replace:!0})});return()=>n()},[r]),Ci.currentUser&&r("/reports"),F.jsx("div",{className:"home-container",children:F.jsxs("div",{className:"home-content",children:[F.jsx("img",{src:RR,className:"home-logo",alt:"Khata Book Logo"}),F.jsx("h1",{className:"home-title",children:" "}),F.jsx("p",{className:"home-description",children:"-               -         "}),F.jsx("button",{className:"home-button",onClick:e,children:" "})]})})};var ob={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BT=Js.createContext&&Js.createContext(ob),ZV=["attr","size","title"];function WV(r,e){if(r==null)return{};var n=ex(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function ex(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function kh(){return kh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},kh.apply(this,arguments)}function qT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Ph(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(s){tx(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function tx(r,e,n){return e=nx(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nx(r){var e=ix(r,"string");return typeof e=="symbol"?e:e+""}function ix(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lb(r){return r&&r.map((e,n)=>Js.createElement(e.tag,Ph({key:n},e.attr),lb(e.child)))}function Bi(r){return e=>Js.createElement(rx,kh({attr:Ph({},r.attr)},e),lb(r.child))}function rx(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=WV(r,ZV),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Js.createElement("svg",kh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Ph(Ph({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Js.createElement("title",null,u),r.children)};return BT!==void 0?Js.createElement(BT.Consumer,null,n=>e(n)):e(ob)}function sx(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function ub(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function ax(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function ox(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(r)}function lx(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(r)}function ux(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(r)}function cb(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function hb(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(r)}function cx(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function fb(r){return Bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}const hx=({onResult:r,onClose:e})=>(B.useEffect(()=>{const n=window.SpeechRecognition||window.webkitSpeechRecognition;if(!n){alert("Speech recognition not supported in this browser."),e();return}const s=new n;s.lang="hi-IN",s.continuous=!0,s.interimResults=!1,s.maxAlternatives=1,s.start(),s.onresult=o=>{const u=o.results[0][0].transcript;r(u)},s.onerror=()=>{e()},s.onend=()=>{console.log("Speech ended but keeping popup open")}},[]),F.jsx("div",{className:"voice-popup-overlay",children:F.jsx("div",{className:"voice-popup-box",children:F.jsx("div",{className:"voice-popup-text",children:" ,    "})})})),fx=({value:r,onChange:e,placeholder:n})=>{const[s,o]=B.useState(!1);return F.jsxs("div",{className:"voice-input-group",children:[F.jsx("input",{type:"text",className:"voice-input-field",value:r,placeholder:n,onChange:u=>e(u.target.value)}),F.jsx("button",{className:"voice-input-button",onClick:()=>o(!0),children:F.jsx(ox,{size:20})}),s&&F.jsx(hx,{onResult:u=>{e(u),o(!1)},onClose:()=>o(!1)})]})},yg=()=>{const[r,e]=B.useState({message:"",type:"info",visible:!1}),n=B.useCallback((s,o="info")=>{e({message:s,type:o,visible:!0}),setTimeout(()=>{e(u=>({...u,visible:!1}))},3e3)},[]);return{alert:r,showAlert:n}};function _g({alert:r}){return r.visible?F.jsx("div",{className:`alert alert-${r.type}`,children:r.message}):null}const vg=r=>{const{alert:e,showAlert:n}=yg(),[s,o]=B.useState(""),[u,f]=B.useState(""),m=()=>{o(""),f("")},p=B.useCallback(()=>{if(r.titlePlaceholder&&!s.trim()){n(r.titlePlaceholder+"   ","error");return}const E=Number(u);if(!Number.isFinite(E)||E<=0){n(r.amountPlaceholder+"   ","error");return}r.onAccept(s,E),m()},[s,u]),g=B.useCallback(()=>{m(),r.onReject()},[]);return F.jsxs("div",{className:"modal-overlay",children:[F.jsx(_g,{alert:e}),F.jsxs("div",{className:"modal-content",children:[F.jsx("h2",{children:r.header}),F.jsxs("div",{children:[r.titlePlaceholder&&F.jsx(fx,{placeholder:r.titlePlaceholder,value:s,onChange:o}),F.jsx("input",{type:"number",placeholder:r.amountPlaceholder,value:u,className:"input-field",onChange:E=>f(E.target.value)})]}),F.jsxs("div",{className:"modal-footer",children:[F.jsx("button",{className:"btn-cancel",onClick:g,children:" "}),F.jsx("button",{className:"btn-add",onClick:p,children:""})]})]})]})};async function dx(r){const e=Ci.currentUser;if(!e?.email)throw new Error("        ");const n={title:r.title,budget:r.budget,owner:e.email,sharedWith:[],expenses:[],createdAt:new Date().toISOString(),deleted:!1};return{id:(await CS(rf(yr,"reports"),n)).id,...n}}async function mx(r){const e=Do(yr,"reports",r);await uf(e,{deleted:!0,deletedAt:new Date().toISOString()})}async function HT(r,e){const n=Do(yr,"reports",r);await uf(n,{sharedWith:YO(e)})}async function FT(r,e){const n=Do(yr,"reports",r);await uf(n,{sharedWith:$O(e)})}async function px(r){const{reportId:e,expenseTitle:n,expenseAmount:s,authorEmail:o,authorDisplayName:u}=r,f=rf(yr,"reports",e,"expenses"),m={title:n,amount:s,date:new Date().toISOString(),createdAt:new Date().toISOString(),authorEmail:o,authorDisplayName:u};return(await CS(f,{...m,createdAt:Date.now()})).id}async function GT(r,e){const n=Do(yr,"reports",r,"expenses",e);await uf(n,{deleted:!0,deletedAt:new Date().toISOString()})}async function db(r){const e=rf(yr,"reports",r.id,"expenses"),s=(await ap(e)).docs.map(o=>({...o.data(),id:o.id})).sort((o,u)=>u.date.localeCompare(o.date));return{...r,expenses:s}}async function gx(r){const e=rf(yr,"reports"),n=ET(e,TT("owner","==",r)),s=ET(e,TT("sharedWith","array-contains",r)),[o,u]=await Promise.all([ap(n),ap(s)]),f=[...o.docs,...u.docs].map(p=>({...p.data(),id:p.id})).filter(p=>!p.deleted).sort((p,g)=>Date.parse(g.createdAt)-Date.parse(p.createdAt)),m=Object.values(f.reduce((p,g)=>(p[g.id]=g,p),{}));return await Promise.all(m.map(p=>db(p)))}async function Ul(r){const e=await QO(Do(yr,"reports",r));if(!e.exists())return null;const n={id:r,...e.data(),expenses:[]};return n.deleted?null:await db(n)}const cp=({visible:r})=>r?F.jsx("div",{className:"loader-overlay",children:F.jsx("div",{className:"loader-spinner"})}):null,yx=r=>r.expenses.filter(e=>!e.deleted&&e.amount>0).reduce((e,n)=>e+n.amount,0),QT=r=>Math.abs(r.expenses.filter(e=>!e.deleted&&e.amount<0).reduce((e,n)=>e+n.amount,0)),mb=(r,e)=>e&&r.sharedWith.includes(e),_x=(r,e)=>e&&r.owner===e,vx=()=>{const r=ru(),[e,n]=B.useState([]),[s,o]=B.useState(!1),[u,f]=B.useState(null),[m,p]=B.useState(!1),{alert:g,showAlert:E}=yg(),T=async H=>{try{p(!0);const K=await gx(H);n(K)}catch(K){console.error(K),E("    ","error")}finally{p(!1)}};B.useEffect(()=>{const H=Ci.onAuthStateChanged(K=>{K?.email?(f(K),T(K.email)):(n([]),p(!1))});return()=>H()},[]);const b=async(H,K)=>{try{p(!0),await dx({title:H,budget:K}),o(!1),Ci.currentUser?.email&&await T(Ci.currentUser.email)}catch(q){console.error(q),E("    ","error")}finally{p(!1)}},k=async()=>{try{p(!0),await PM(Ci),r("/",{replace:!0})}catch(H){console.error("Logout failed:",H)}finally{p(!1)}};return F.jsxs("div",{className:"reports-container",children:[F.jsx(_g,{alert:g}),F.jsx(cp,{visible:m}),F.jsxs("div",{className:"reports-topbar",children:[u?.photoURL&&u?.displayName?F.jsx("span",{className:"reports-profile",children:F.jsx("img",{src:u.photoURL,className:"reports-profile-icon"})}):F.jsx(fb,{className:"reports-profile-icon"}),F.jsx("button",{className:"reports-logout-btn",onClick:k,children:F.jsx(ax,{})})]}),F.jsx("h2",{className:"reports-title",children:"   "}),F.jsx("div",{className:"reports-list-container",children:F.jsxs("div",{className:"reports-list",children:[e.map(H=>{const K=Math.min(QT(H)/(H.budget+yx(H))*100,100);let q="#28a745";return K>75?q="#dc3545":K>50&&(q="#ffc107"),F.jsxs("div",{className:"report-card",onClick:()=>r(`/reports/${H.id}`),children:[F.jsxs("div",{className:"report-header",children:[F.jsx("h3",{className:"report-title",children:H.title}),mb(H,u?.email)&&F.jsxs("span",{className:"shared-badge",children:[F.jsx(hb,{size:14})," "]})]}),F.jsxs("div",{className:"report-info",children:[F.jsxs("p",{className:"report-budget",children:[" : ",H.budget.toLocaleString()]}),F.jsxs("p",{className:"report-spent",children:[" : ",QT(H).toLocaleString()]})]}),F.jsx("div",{className:"progress-bar",children:F.jsx("div",{className:"progress-fill",style:{width:`${K}%`,backgroundColor:q}})})]},H.id)}),e.length===0&&F.jsxs("div",{className:"no-reports-container",children:[F.jsx(ub,{size:48,className:"no-reports-icon"}),F.jsx("p",{className:"no-reports-text",children:"    "}),F.jsx("p",{className:"no-reports-subtext",children:"        "})]})]})}),F.jsx("button",{className:"add-report-btn",onClick:()=>o(!0),children:F.jsx(cb,{size:24})}),s&&F.jsx(vg,{header:"  ",titlePlaceholder:"  ",amountPlaceholder:" ",onReject:()=>o(!1),onAccept:b})]})},Eg=({open:r,title:e="Are you sure?",message:n="This action cannot be undone.",confirmText:s="Delete",cancelText:o="Cancel",onConfirm:u,onCancel:f})=>r?F.jsx("div",{className:"cd-overlay",children:F.jsxs("div",{className:"cd-container",children:[F.jsx("h2",{className:"cd-title",children:e}),F.jsx("p",{className:"cd-message",children:n}),F.jsxs("div",{className:"cd-buttons",children:[F.jsx("button",{className:"cd-btn cd-cancel",onClick:f,children:o}),F.jsx("button",{className:"cd-btn cd-delete",onClick:u,children:s})]})]})}):null,Ex=({sharedWith:r,onAddEmail:e,onRemoveEmail:n,onClose:s})=>{const[o,u]=B.useState(""),[f,m]=B.useState(null),[p,g]=B.useState(!1),E=()=>{e(o.trim()),u("")};return F.jsxs("div",{className:"access-overlay",children:[F.jsxs("div",{className:"access-box",children:[F.jsx("div",{className:"access-title",children:"     ?"}),F.jsxs("div",{className:"access-input-row",children:[F.jsx("input",{type:"email",placeholder:"  ",value:o,onChange:T=>u(T.target.value),className:"access-input"}),F.jsx("button",{className:"access-add-btn",onClick:E,children:""})]}),F.jsx("div",{className:"access-list-title",children:"    :"}),r.length===0?F.jsx("div",{className:"access-empty",children:" "}):F.jsx("ul",{className:"access-list",children:r.map(T=>F.jsxs("li",{className:"access-item",children:[F.jsx("span",{children:T}),F.jsx("button",{className:"access-remove-btn",onClick:()=>{m(T),g(!0)},children:""})]},T))}),F.jsx("button",{className:"access-close-btn",onClick:s,children:" "})]}),F.jsx(Eg,{open:p,title:"  ?",message:"       |",confirmText:"",cancelText:" ",onConfirm:()=>{f&&n(f),m(null),g(!1)},onCancel:()=>{m(null),g(!1)}})]})},Tx=({sharedWith:r,onAddEmail:e,onRemoveEmail:n,onDeleteReport:s,onTopup:o,labelManageAccess:u=" ",labelTopup:f=" ",labelDeleteReport:m=" "})=>{const[p,g]=B.useState(!1),[E,T]=B.useState(!1),[b,k]=B.useState(!1),[H,K]=B.useState(!1),q=B.useRef(null);B.useEffect(()=>{const fe=Ae=>{q.current&&(q.current.contains(Ae.target)||g(!1))},Te=Ae=>{Ae.key==="Escape"&&g(!1)};return document.addEventListener("click",fe),document.addEventListener("keydown",Te),()=>{document.removeEventListener("click",fe),document.removeEventListener("keydown",Te)}},[]);const te=()=>{g(!1),k(!0)},ne=()=>{g(!1),T(!0)},ie=async(fe,Te)=>{K(!1),o&&await o(Te)};return F.jsxs("div",{className:"hamburger-root",ref:q,children:[F.jsx("button",{className:"hamburger-toggle","aria-haspopup":"true","aria-expanded":p,"aria-label":"Open menu",onClick:()=>g(fe=>!fe),children:F.jsx(lx,{size:20})}),p&&F.jsxs("div",{className:"hamburger-menu",role:"menu","aria-label":"Options",children:[F.jsxs("button",{className:"hamburger-item",role:"menuitem",onClick:te,children:[F.jsx(fb,{size:16,className:"hamburger-icon"}),F.jsx("span",{className:"hamburger-text",children:u})]}),F.jsxs("button",{className:"hamburger-item",role:"menuitem",onClick:()=>K(!0),children:[F.jsx(ux,{size:16,className:"hamburger-icon"}),F.jsx("span",{className:"hamburger-text",children:f})]}),F.jsxs("button",{className:"hamburger-item destructive",role:"menuitem",onClick:ne,children:[F.jsx(cx,{size:16,className:"hamburger-icon"}),F.jsx("span",{className:"hamburger-text",children:m})]})]}),F.jsx(Eg,{open:E,title:"   ?",message:"         ",confirmText:"",cancelText:" ",onConfirm:()=>{T(!1),s?.()},onCancel:()=>T(!1)}),b&&F.jsx(Ex,{sharedWith:r,onAddEmail:fe=>{k(!1),e?.(fe)},onRemoveEmail:fe=>{k(!1),n?.(fe)},onClose:()=>k(!1)}),H&&F.jsx(vg,{header:"    ",amountPlaceholder:"  ",onAccept:ie,onReject:()=>K(!1)})]})},Ax=()=>{const{reportId:r}=M1(),{alert:e,showAlert:n}=yg(),s=ru(),[o,u]=B.useState(null),[f,m]=B.useState(null),[p,g]=B.useState(!0),[E,T]=B.useState(!1),[b,k]=B.useState(!1),[H,K]=B.useState(null);B.useEffect(()=>{if(!r)return;const N=Ci.onAuthStateChanged(async R=>{if(R&&u(R),!R?.email){m(null),g(!1);return}try{g(!0);const De=await Ul(r);if(!De){n("  ","error"),m(null);return}if(De.owner!==R.email&&!De.sharedWith?.includes(R.email)){n("        ","error"),m(null);return}m(De)}catch(De){console.error(De),n("    ","error")}finally{g(!1)}});return()=>N()},[r]);const q=B.useCallback(async(N,R,De)=>{if(!o||!o.email||!o.displayName){n("      ","error");return}if(!r){n("    ","error");return}try{g(!0),await px({reportId:r,expenseTitle:N,expenseAmount:R,authorEmail:o.email,authorDisplayName:o.displayName});const Qe=await Ul(r);Qe&&m(Qe),T(!1),n(`${De}    `,"success")}catch(Qe){console.error(Qe),n(`${De}    `,"error")}finally{g(!1)}},[r,n,o]),te=B.useCallback(async(N,R)=>await q(N,-1*Math.abs(R),""),[q]),ne=B.useCallback(async N=>await q(" ",Math.abs(N)," "),[q]),ie=N=>{K(N),k(!0)},fe=B.useCallback(async(N,R,De)=>{if(!r){n("    ","error");return}if(!N||!N.includes("@")){n("     ","error");return}try{g(!0),R==="add"?await HT(r,N):await FT(r,N);const Qe=await Ul(r);Qe&&m(Qe),n(`${De}   `,"success")}catch(Qe){console.error(Qe),n(` ${De.toLowerCase()}   `,"error")}finally{g(!1)}},[r,n,Ul,HT,FT]),Te=B.useCallback(async N=>await fe(N,"add",""),[fe]),Ae=B.useCallback(async N=>await fe(N,"remove",""),[fe]),D=B.useCallback(async()=>{try{if(!r){n("    ","error");return}if(!H){n("     ","error");return}g(!0),await GT(r,H);const N=await Ul(r);N&&m(N),n("    ","success")}catch(N){console.log(N),n("    ","error")}finally{k(!1),K(null),g(!1)}},[r,H,K,g,n,GT,k]),w=async()=>{try{if(!r){n("    ","error");return}g(!0),await mx(r),s("/reports")}catch(N){console.log(N),n("    ","error")}finally{g(!1)}};if(!f)return F.jsx(cp,{visible:!0});const I=f.expenses.filter(N=>!N.deleted&&N.amount>0).reduce((N,R)=>N+R.amount,0),x=Math.abs(f.expenses.filter(N=>!N.deleted&&N.amount<0).reduce((N,R)=>N+R.amount,0)),O=f.budget+I-x;return F.jsxs("div",{className:"report-details-container",children:[F.jsx(_g,{alert:e}),F.jsx(cp,{visible:p}),F.jsxs(yp,{to:"/reports",className:"back-button",children:[F.jsx(sx,{size:20}),F.jsx("span",{children:" "})]}),_x(f,o?.email)&&F.jsx(Tx,{sharedWith:f.sharedWith,onAddEmail:Te,onRemoveEmail:Ae,onDeleteReport:w,onTopup:ne}),F.jsxs("div",{className:"report-header",children:[F.jsx("h2",{className:"report-title",children:f.title}),mb(f,o?.email)&&F.jsxs("span",{className:"shared-badge",children:[F.jsx(hb,{size:16})," "]})]}),F.jsx("div",{className:"report-summary",children:F.jsxs("div",{className:"chips-container",children:[F.jsxs("span",{className:"chip",children:[": ",f.budget.toLocaleString()]}),F.jsxs("span",{className:"chip spent",children:[": ",x.toLocaleString()]}),F.jsxs("span",{className:"chip remaining",children:[": ",O.toLocaleString()]}),F.jsxs("span",{className:"chip date",children:[": ",new Date(f.createdAt).toLocaleDateString("hi-IN")]}),F.jsxs("span",{className:"chip topup",children:[" : ",I]})]})}),F.jsxs("div",{className:"expenses-title",children:["  ",F.jsx("div",{className:"expense-note",children:"(        )"})]}),F.jsxs("div",{className:"expenses-list",children:[f.expenses.map(N=>F.jsxs("div",{className:`expense-item ${N.deleted&&"deleted"}`,onDoubleClick:()=>!N.deleted&&ie(N.id),children:[F.jsxs("div",{className:"expense-info",children:[F.jsx("p",{className:"expense-title",children:N.title}),F.jsx("p",{className:"expense-date",children:new Date(N.date).toLocaleDateString("hi-IN")}),N.authorDisplayName&&F.jsx("p",{className:"expense-author",children:N.authorDisplayName})]}),F.jsxs("p",{className:`expense-amount ${N.amount<0?"debit":"credit"}`,children:[" ",Math.abs(N.amount).toLocaleString()]})]},N.id)),f.expenses.length===0&&F.jsxs("div",{className:"no-reports-container",children:[F.jsx(ub,{size:48,className:"no-reports-icon"}),F.jsx("p",{className:"no-reports-text",children:"     "}),F.jsx("p",{className:"no-reports-subtext",children:"        "})]})]}),F.jsx("button",{className:"add-expense-btn",onClick:()=>T(!0),children:F.jsx(cb,{size:22})}),E&&F.jsx(vg,{header:"  ",titlePlaceholder:"  ",amountPlaceholder:"  ",onReject:()=>T(!1),onAccept:te}),F.jsx(Eg,{open:b,title:"   ?",message:"      ",confirmText:"",cancelText:" ",onConfirm:D,onCancel:()=>k(!1)})]})};function Sx(){const{pathname:r}=ds();return B.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const KT=({children:r})=>{const e=ru();return B.useEffect(()=>{const n=$S(Ci,s=>{s||e("/",{replace:!0})});return()=>n()},[e]),F.jsx(F.Fragment,{children:r})};function bx(){return F.jsxs(gR,{basename:"/khata-book",children:[F.jsx(Sx,{}),F.jsxs(K1,{children:[F.jsx(eh,{path:"/",element:F.jsx(JV,{})}),F.jsx(eh,{path:"/reports",element:F.jsx(KT,{children:F.jsx(vx,{})})}),F.jsx(eh,{path:"/reports/:reportId",element:F.jsx(KT,{children:F.jsx(Ax,{})})})]})]})}t1.createRoot(document.getElementById("root")).render(F.jsx(B.StrictMode,{children:F.jsx(bx,{})}));
